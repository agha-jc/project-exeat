"use strict";exports.id=1508,exports.ids=[1508],exports.modules={62288:(e,t,s)=>{s.d(t,{$N:()=>h,Be:()=>f,Vq:()=>u,cN:()=>m,cZ:()=>l,fK:()=>p});var a=s(10326),r=s(17577),o=s(37956),n=s(43020),i=s(77863);let u=o.fC;o.xz;let d=o.h_;o.x8;let c=r.forwardRef(({className:e,...t},s)=>a.jsx(o.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=o.aV.displayName;let l=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(d,{children:[a.jsx(c,{}),(0,a.jsxs)(o.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));l.displayName=o.VY.displayName;let p=({className:e,...t})=>a.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let m=({className:e,...t})=>a.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let h=r.forwardRef(({className:e,...t},s)=>a.jsx(o.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=o.Dx.displayName;let f=r.forwardRef(({className:e,...t},s)=>a.jsx(o.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));f.displayName=o.dk.displayName},87673:(e,t,s)=>{s.d(t,{g:()=>n});var a=s(10326),r=s(17577),o=s(77863);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));n.displayName="Textarea"},70787:(e,t,s)=>{s.d(t,{CD:()=>x,Og:()=>c,RX:()=>f,Rk:()=>i,Sr:()=>r,Tq:()=>l,Vm:()=>u,b:()=>a,cu:()=>o,js:()=>y,mM:()=>q,oZ:()=>h,s$:()=>p,ui:()=>v,vN:()=>n,w9:()=>m,xA:()=>w,yH:()=>d});let{useGetStaffProfileQuery:a,useGetAllExeatRequestsQuery:r,useGetExeatRequestsByStatusQuery:o,useGetExeatRequestByIdQuery:n,useGetExeatRequestsByStudentIdQuery:i,useApproveExeatRequestMutation:u,useRejectExeatRequestMutation:d,useSignStudentOutMutation:c,useSignStudentInMutation:l,useGetExeatStatisticsQuery:p,useGetCompletedExeatRequestsQuery:m,useGetCompletedExeatRequestDetailsQuery:h,useGetRejectedExeatRequestsQuery:f,useGetRejectedExeatRequestDetailsQuery:y,useGetStaffDashboardStatsQuery:g,useSendCommentMutation:v,useEditExeatRequestMutation:q,useDeanApplyExeatRequestMutation:x,useDeanBulkApproveExeatsMutation:w}=s(55415).h.injectEndpoints({endpoints:e=>({getStaffProfile:e.query({query:()=>"/me",transformResponse:e=>e.user,providesTags:["Profile"]}),getAllExeatRequests:e.query({query:()=>"/staff/exeat-requests",transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestsByStudentId:e.query({query:e=>({url:"/staff/exeat-requests",params:{student_id:e}}),transformResponse:e=>Array.isArray(e)?e:"exeat_requests"in e?e.exeat_requests:e?.data?.exeat_requests?e.data.exeat_requests:[],providesTags:["ExeatRequests"]}),getExeatRequestsByStatus:e.query({query:e=>`/staff/exeat-requests?status=${e}`,transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestById:e.query({query:e=>`/staff/exeat-requests/${e}`,transformResponse:e=>{if(e?.message&&e.message.includes("permission"))throw Error(e.message);if(e?.exeat_request)return e.exeat_request;throw Error("Invalid response format from server")},providesTags:(e,t,s)=>[{type:"ExeatRequests",id:s}]}),approveExeatRequest:e.mutation({query:({exeat_request_id:e,comment:t})=>({url:`/staff/exeat-requests/${e}/approve`,method:"POST",body:{comment:t}}),invalidatesTags:["ExeatRequests"]}),rejectExeatRequest:e.mutation({query:({exeat_request_id:e,comment:t})=>({url:`/staff/exeat-requests/${e}/reject`,method:"POST",body:{comment:t}}),invalidatesTags:["ExeatRequests"]}),signStudentOut:e.mutation({query:({exeat_request_id:e,comment:t})=>({url:`/staff/exeat-requests/${e}/sign-out`,method:"POST",body:{comment:t}}),invalidatesTags:["ExeatRequests"]}),signStudentIn:e.mutation({query:({exeat_request_id:e,comment:t})=>({url:`/staff/exeat-requests/${e}/sign-in`,method:"POST",body:{comment:t}}),invalidatesTags:["ExeatRequests"]}),getExeatStatistics:e.query({query:()=>"/staff/exeat-statistics",transformResponse:e=>e.data,providesTags:["Staff"]}),getCompletedExeatRequests:e.query({query:({page:e=1,per_page:t=50}={})=>({url:"/exeats/by-status/completed",params:{page:e,per_page:t}}),transformResponse:e=>e,providesTags:["ExeatRequests"]}),getCompletedExeatRequestDetails:e.query({query:e=>`/exeats/by-status/completed/${e}`,transformResponse:e=>e,providesTags:["ExeatRequests"]}),getStaffDashboardStats:e.query({query:()=>"/staff/dashboard",transformResponse:e=>e,providesTags:["DashboardStats"]}),getRejectedExeatRequests:e.query({query:({page:e=1,per_page:t=50}={})=>({url:"/exeats/by-status/rejected",params:{page:e,per_page:t}}),transformResponse:e=>e,providesTags:["ExeatRequests"]}),getRejectedExeatRequestDetails:e.query({query:e=>`/exeats/by-status/rejected/${e}`,transformResponse:e=>e,providesTags:["ExeatRequests"]}),sendComment:e.mutation({query:({exeat_request_id:e,comment:t})=>({url:`/staff/exeat-requests/${e}/send-comment`,method:"POST",body:{comment:t,priority:"high"}}),invalidatesTags:["ExeatRequests"]}),editExeatRequest:e.mutation({query:({exeat_request_id:e,payload:t})=>({url:`/staff/exeat-requests/${e}`,method:"PUT",body:t}),invalidatesTags:["ExeatRequests"]}),deanApplyExeatRequest:e.mutation({query:e=>({url:"/dean/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),deanBulkApproveExeats:e.mutation({query:()=>({url:"/dean/exeat-requests/bulkAprroval",method:"POST"}),invalidatesTags:["ExeatRequests"]})})})},96738:(e,t,s)=>{s.d(t,{G4:()=>p,Oo:()=>c,Q4:()=>m,_0:()=>u,bJ:()=>n,bt:()=>o,kK:()=>r,po:()=>i,pu:()=>a,tu:()=>d,xE:()=>l});let a=e=>{switch(e){case"security_signin":return"Monitor Return";case"approved":return"Active Request";case"rejected":return"Request Rejected";case"completed":return"Request Completed";case"pending":default:return"Take Action";case"cmd_review":return"Medical Director Review";case"secretary_review":return"Secretary Review";case"dean_review":return"Dean/Deputy Dean Review";case"parent_consent":return"Awaiting Parent Approval";case"hostel_signin":case"hostel_signin":return"Hostel Sign-In Required";case"hostel_signout":case"hostel_signout":return"Hostel Sign-Out Required";case"recommendation1":case"recommendation2":return"Under Review";case"dean_approval":return"Awaiting Dean Approval";case"security_signin":return"Security Sign-In Required";case"security_signout":return"Security Sign-Out Required"}},r=e=>{switch(e){case"security_signin":return"Student is currently away. Monitor their return and ensure they check-in by the designated time.";case"approved":return"This exeat request has been approved and is currently active. The student is away from campus.";case"rejected":return"This request has been rejected. The student has been notified of the decision.";case"completed":return"This exeat request has been completed successfully. The student has returned to campus.";case"pending":default:return"This request requires your decision. Please review carefully and provide appropriate feedback.";case"cmd_review":return"This medical request is under review by the Medical Director. Your input may be required.";case"secretary_review":return"This request is under review by the Secretary. Please await their decision.";case"dean_review":return"This request requires review by the Dean of Students. Please await their decision.";case"parent_consent":return"This request is awaiting parent/guardian consent. Contact will be made soon.";case"hostel_signin":return"Student must complete hostel sign-in procedures before departure.";case"hostel_signout":return"Student must complete hostel sign-out procedures for departure.";case"recommendation1":case"recommendation2":return"This request is currently under review by relevant authorities.";case"dean_approval":return"This request is awaiting final approval from the Dean.";case"hostel_approval":return"This request is being processed by hostel administration."}},o=e=>{switch(e){case"security_signin":return"Monitoring Notes";case"approved":return"Approval Notes";case"rejected":return"Rejection Reason";case"completed":return"Completion Notes";default:return"Decision Comment"}},n=e=>{switch(e){case"security_signin":return"Add any notes about the student's return status...";case"approved":return"Add any additional notes about this approved request...";case"rejected":return"Provide the reason for rejection...";case"completed":return"Add notes about the completed request...";default:return"Provide context for your decision..."}},i=e=>{switch(e){case"rejected":return"(required)";case"pending":return"(required for rejection, optional for approval)";default:return"(optional)"}},u=e=>["pending","cmd_review","secretary_review","dean_review","recommendation1","recommendation2"].includes(e),d=(e,t)=>t||1===e?"\uD83C\uDFE5":2===e?"\uD83C\uDF34":3===e?"\uD83D\uDEA8":4===e?"\uD83D\uDCBC":"\uD83D\uDCCB",c=(e,t)=>t||1===e?"Medical":2===e?"Casual":3===e?"Emergency":4===e?"Official":"General",l=(e,t,s,a,r)=>{let o=1===r?"1 day":`${r} days`;switch(e){case"pending":return`You are about to approve ${t}'s exeat request to ${a} for ${o}. This will allow the student to leave campus for the stated reason: "${s}". The student will be able to proceed to the next stage once approved.`;case"cmd_review":return`You are approving ${t}'s medical exeat request to ${a} for ${o}. As the Medical Director, your approval confirms that the medical reason "${s}" is valid and the student may move to the next stage to proceed with their medical leave.`;case"secretary_review":return`You are approving ${t}'s exeat request to ${a} for ${o}. As the Secretary, your approval confirms that the reason "${s}" meets institutional standards and the student may proceed with their leave.`;case"dean_review":return`You are approving ${t}'s exeat request to ${a} for ${o}. As the Dean of Students, your approval is the final authorization for the student to leave campus for the stated reason: "${s}".`;case"recommendation1":case"recommendation2":return`You are approving ${t}'s exeat request to ${a} for ${o}. Your approval confirms that the reason "${s}" is acceptable and the student may proceed with their leave request.`;case"security_signin":return`You are about to sign ${t} back into the school after their exeat. This will allow the student to return to campus and complete their exeat.`;case"security_signout":return`You are about to sign ${t} out of the school. This will allow the student to leave campus.`;case"hostel_signout":return`You are about to sign ${t} out of the hostel. As the Hostel Administrator, this will allow the student to leave campus.`;case"hostel_signin":return`You are about to sign ${t} back into the hostel after their exeat. As the Hostel Administrator, this will allow the student to return to campus and complete their exeat.`;default:return`You are about to approve ${t}'s exeat request to ${a} for ${o}. This will authorize the student to leave campus for the stated reason: "${s}".`}},p=(e,t,s,a,r)=>{let o=1===r?"1 day":`${r} days`;switch(e){case"pending":return`You are about to reject ${t}'s exeat request to ${a} for ${o}. The student will not be allowed to leave campus for the stated reason: "${s}". Please ensure you provide a clear reason for rejection.`;case"cmd_review":return`You are rejecting ${t}'s medical exeat request to ${a} for ${o}. As the Medical Director, your rejection indicates that the medical reason "${s}" does not meet medical leave criteria.`;case"secretary_review":return`You are rejecting ${t}'s exeat request to ${a} for ${o}. As the Secretary, your rejection indicates that the reason "${s}" does not meet institutional standards.`;case"dean_review":return`You are rejecting ${t}'s exeat request to ${a} for ${o}. As the Dean of Students, your rejection is the final decision denying the student's request to leave campus for the stated reason: "${s}".`;case"recommendation1":case"recommendation2":return`You are rejecting ${t}'s exeat request to ${a} for ${o}. Your rejection indicates that the reason "${s}" is not acceptable for the requested leave.`;default:return`You are about to reject ${t}'s exeat request to ${a} for ${o}. The student will not be allowed to leave campus for the stated reason: "${s}".`}},m=e=>{switch(e){case"pending":default:return"Approve Request";case"cmd_review":return"Approve Medical Review";case"secretary_review":return"Approve Secretary Review";case"dean_review":return"Approve Dean Review";case"hostel_signout":return"Approve Hostel Sign Out";case"hostel_signin":return"Approve Hostel Sign In";case"security_signout":return"Approve Security Sign Out";case"security_signin":return"Approve Security Sign In";case"recommendation1":case"recommendation2":return"Approve Recommendation"}}},5857:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(9664).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},79611:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(9664).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},31798:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(9664).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}};