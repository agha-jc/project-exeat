exports.id=6661,exports.ids=[6661],exports.modules={4309:(e,s,a)=>{Promise.resolve().then(a.bind(a,4480))},4480:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>R});var t=a(10326),r=a(17577),l=a(90434),d=a(35047),i=a(30407),n=a(92599),o=a(43020),c=a(22032),m=a(43022),x=a(10887),f=a(79611),u=a(86747),h=a(24732),p=a(88802),j=a(77863),N=a(90772);function g({open:e,onClose:s,onApplyExeat:a,currentUser:g}){let v=(0,d.useRouter)(),[y,w]=(0,r.useState)(!1),{user:b,fullName:C,initials:k,avatarUrl:Z}=g,[z]=(0,n._y)(),R=()=>{w(!0),s()},U=(0,d.usePathname)(),S=e=>U===e,F=({href:e,icon:a,children:r})=>{let d=S(e);return t.jsx(l.default,{href:e,className:"w-full",onClick:()=>{window.innerWidth<1024&&s()},children:(0,t.jsxs)(N.z,{variant:"ghost",className:(0,j.cn)("w-full justify-start",d&&"bg-primary text-primary-foreground hover:bg-primary/90 hover:text-primary-foreground"),children:[t.jsx(a,{className:"mr-2 h-4 w-4"}),r]})})};return(0,t.jsxs)(t.Fragment,{children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30 lg:hidden",onClick:s}),(0,t.jsxs)("aside",{className:(0,j.cn)("fixed top-14 left-0 z-40 w-[280px] h-[calc(100vh-3.5rem)]","bg-white border-r border-border","transition-all duration-300 ease-in-out",!e&&"-translate-x-full","lg:translate-x-0"),children:[e&&t.jsx("div",{className:"absolute -right-12 top-3 lg:hidden",children:t.jsx(N.z,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full bg-white shadow-md border-border",onClick:s,children:t.jsx(o.Z,{className:"h-4 w-4"})})}),t.jsx("nav",{className:"p-2 overflow-y-auto h-[calc(100%-4rem)]",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(F,{href:"/student/dashboard",icon:c.Z,children:"Dashboard"}),t.jsx(F,{href:"/student/apply-exeat",icon:m.Z,children:"Apply for Exeat"}),t.jsx(F,{href:"/student/exeats",icon:x.Z,children:"Exeat History"}),t.jsx(F,{href:"/student/comments",icon:f.Z,children:"Staff Messages"}),t.jsx(F,{href:"/student/debts",icon:u.Z,children:"My Debts"}),(0,t.jsxs)("div",{className:"pt-4 mt-4 border-t",children:[t.jsx(F,{href:"/student/profile",icon:h.Z,children:"Profile"}),(0,t.jsxs)(N.z,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{R(),window.innerWidth<1024&&s()},children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})})]}),t.jsx(i.Z,{isOpen:y,onClose:()=>w(!1),userName:C||"User",onLogoutSuccess:()=>{v.replace("/login")}})]})}var v=a(46226),y=a(8026),w=a(28096),b=a(60097),C=a(28758);function k({onMenuClick:e,currentUser:s}){let[a,l]=(0,r.useState)(!1),{user:n,fullName:o,initials:c,avatarUrl:m}=s,x=(0,d.useRouter)();return(0,t.jsxs)("header",{className:"fixed top-0 z-50 w-full border-b bg-white",children:[(0,t.jsxs)("div",{className:"flex h-14 items-center px-4 lg:px-6",children:[(0,t.jsxs)(N.z,{variant:"ghost",size:"icon",className:"lg:hidden mr-2",onClick:e,children:[t.jsx(y.Z,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(v.default,{src:"/veritas-logo.png",alt:"Veritas University Logo",width:28,height:28,className:"object-contain",priority:!0}),t.jsx("span",{className:"hidden lg:inline-block text-lg font-semibold text-primary",children:"Veritas University"})]}),t.jsx("div",{className:"hidden lg:block h-4 w-px bg-border mx-2"}),t.jsx("div",{className:"text-sm font-medium",children:"Digital Exeat System"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"hidden sm:block text-sm text-muted-foreground",children:["Welcome, ",n?.fname]}),(0,t.jsxs)(b.h_,{children:[t.jsx(b.$F,{asChild:!0,children:t.jsx(N.z,{variant:"ghost",size:"icon",className:"relative h-8 w-8 rounded-full",children:(0,t.jsxs)(C.qE,{className:"h-8 w-8",children:[t.jsx(C.F$,{src:m,alt:n?`${n.fname} ${n.lname}`:"User avatar"}),t.jsx(C.Q5,{className:"bg-primary/10 text-primary",children:c})]})})}),(0,t.jsxs)(b.AW,{className:"w-56",align:"end",children:[t.jsx(b.Ju,{className:"font-normal",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium leading-none",children:o}),t.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n?.email})]})}),t.jsx(b.VD,{}),(0,t.jsxs)(b.Qk,{children:[t.jsx(b.Xi,{asChild:!0,children:(0,t.jsxs)("a",{href:"/student/profile",className:"cursor-pointer",children:[t.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Profile"]})}),(0,t.jsxs)(b.Xi,{className:"text-destructive focus:text-destructive",onClick:()=>{l(!0)},children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})]}),t.jsx(i.Z,{isOpen:a,onClose:()=>l(!1),userName:o,onLogoutSuccess:()=>{x.replace("/login")}})]})}var Z=a(83765),z=a(30668);function R({children:e}){let[s,a]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!1),i=(0,Z.t)();return t.jsx(z.i,{requiredRole:"student",children:(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[t.jsx(k,{onMenuClick:()=>a(!0),currentUser:i}),(0,t.jsxs)("div",{className:"flex-1 flex pt-14",children:[t.jsx(g,{open:s,onClose:()=>a(!1),onApplyExeat:()=>d(!0),currentUser:i}),t.jsx("main",{className:"flex-1 relative overflow-x-hidden lg:ml-[280px]",children:t.jsx("div",{className:"p-4 md:p-6 max-w-full overflow-x-hidden",children:e})})]})]})})}},30668:(e,s,a)=>{"use strict";a.d(s,{i:()=>i});var t=a(10326);a(17577);var r=a(35047),l=a(25842),d=a(16007);function i({children:e,requiredRole:s}){(0,r.useRouter)();let a=(0,l.v9)(d.HF);return!(0,l.v9)(d.vN)||s&&a?.role&&("student"===a.role.toLowerCase()?"student":"staff")!=("student"===s.toLowerCase()?"student":"staff")?null:t.jsx(t.Fragment,{children:e})}},28758:(e,s,a)=>{"use strict";a.d(s,{F$:()=>n,Q5:()=>o,qE:()=>i});var t=a(10326),r=a(17577),l=a(4720),d=a(77863);let i=r.forwardRef(({className:e,...s},a)=>t.jsx(l.fC,{ref:a,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));i.displayName=l.fC.displayName;let n=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Ee,{ref:a,className:(0,d.cn)("aspect-square h-full w-full",e),...s}));n.displayName=l.Ee.displayName;let o=r.forwardRef(({className:e,...s},a)=>t.jsx(l.NY,{ref:a,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));o.displayName=l.NY.displayName},33071:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>i,SZ:()=>o,Zb:()=>d,aY:()=>c,ll:()=>n});var t=a(10326),r=a(17577),l=a(77863);let d=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));d.displayName="Card";let i=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let n=r.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},60097:(e,s,a)=>{"use strict";a.d(s,{$F:()=>m,AW:()=>f,Ju:()=>h,Qk:()=>x,VD:()=>p,Xi:()=>u,h_:()=>c});var t=a(10326),r=a(17577),l=a(41328),d=a(14370),i=a(70744),n=a(94426),o=a(77863);let c=l.fC,m=l.xz,x=l.ZA;l.Uv,l.Tr,l.Ee,r.forwardRef(({className:e,inset:s,children:a,...r},i)=>(0,t.jsxs)(l.fF,{ref:i,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[a,t.jsx(d.Z,{className:"ml-auto h-4 w-4"})]})).displayName=l.fF.displayName,r.forwardRef(({className:e,...s},a)=>t.jsx(l.tu,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=l.tu.displayName;let f=r.forwardRef(({className:e,sideOffset:s=4,...a},r)=>t.jsx(l.Uv,{children:t.jsx(l.VY,{ref:r,sideOffset:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));f.displayName=l.VY.displayName;let u=r.forwardRef(({className:e,inset:s,...a},r)=>t.jsx(l.ck,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...a}));u.displayName=l.ck.displayName,r.forwardRef(({className:e,children:s,checked:a,...r},d)=>(0,t.jsxs)(l.oC,{ref:d,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(i.Z,{className:"h-4 w-4"})})}),s]})).displayName=l.oC.displayName,r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(l.Rk,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(n.Z,{className:"h-2 w-2 fill-current"})})}),s]})).displayName=l.Rk.displayName;let h=r.forwardRef(({className:e,inset:s,...a},r)=>t.jsx(l.__,{ref:r,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...a}));h.displayName=l.__.displayName;let p=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));p.displayName=l.Z0.displayName},30407:(e,s,a)=>{"use strict";a.d(s,{Z:()=>m});var t=a(10326),r=a(17577),l=a(74926),d=a(46721),i=a(25842),n=a(90772),o=a(16007),c=a(92599);function m({isOpen:e,onClose:s,userName:a,onLogoutSuccess:m}){let x=(0,i.I0)(),[f]=(0,c._y)(),[u,h]=(0,r.useState)(!1),[p,j]=(0,r.useState)(""),N=async()=>{h(!0),j("");try{await f().unwrap()}catch(e){console.warn("API logout failed:",e),e?.data?.message!=="No authenticated user."&&console.error("Unexpected logout error:",e)}finally{x((0,o.kS)()),m()}};return e?t.jsx(t.Fragment,{children:t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",onClick:u?void 0:s,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(l.Z,{className:"h-6 w-6 text-orange-500"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Logout"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to log out?"})]})]}),t.jsx("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-gray-700",children:[t.jsx("span",{className:"font-medium",children:a})," will be logged out of the system."]})}),p&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:t.jsx("p",{className:"text-sm text-red-600",children:p})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[t.jsx(n.z,{variant:"outline",onClick:s,disabled:u,className:"px-4 py-2",children:"Cancel"}),t.jsx(n.z,{onClick:N,disabled:u,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white",children:u?(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging out..."]}):"Logout"})]})]})})}):null}},83765:(e,s,a)=>{"use strict";a.d(s,{t:()=>l});var t=a(25842),r=a(16007);function l(){let e=(0,t.v9)(r.HF);return{user:e,isLoading:(0,t.v9)(r.xU),fullName:e?`${e.fname} ${e.lname}`:"",initials:e?`${e.fname[0]}${e.lname[0]}`.toUpperCase():"",avatarUrl:e?.passport?`data:image/jpeg;base64,${e.passport}`:void 0}}},17896:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`c:\Users\Al Agha\Downloads\project_exeat-master\app\student\layout.tsx#default`)},79611:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(9664).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])}};