(()=>{var e={};e.id=2031,e.ids=[2031],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},43578:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),t(3612),t(18011),t(85880),t(96560);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),d=t(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let o=["",{children:["staff",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3612)),"c:\\Users\\Al Agha\\Downloads\\project_exeat-master\\app\\staff\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,18011)),"c:\\Users\\Al Agha\\Downloads\\project_exeat-master\\app\\staff\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,85880)),"c:\\Users\\Al Agha\\Downloads\\project_exeat-master\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"c:\\Users\\Al Agha\\Downloads\\project_exeat-master\\app\\not-found.tsx"]}],c=["c:\\Users\\Al Agha\\Downloads\\project_exeat-master\\app\\staff\\admin\\page.tsx"],u="/staff/admin/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/staff/admin/page",pathname:"/staff/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},23842:(e,s,t)=>{Promise.resolve().then(t.bind(t,15558))},15558:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var a=t(10326),r=t(33071),i=t(567),n=t(90772),d=t(53540),l=t(35372),o=t(70787),c=t(17577),u=t(74926),m=t(46721);function x({isOpen:e,onClose:s,title:t,description:r,confirmLabel:i="Confirm",cancelLabel:d="Cancel",onConfirm:l}){let[o,x]=(0,c.useState)(!1),[p,f]=(0,c.useState)("");if(!e)return null;let h=async()=>{try{x(!0),f(""),await l()}catch(e){f(e?.message||"Action failed")}finally{x(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",onClick:o?void 0:s,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(u.Z,{className:"h-6 w-6 text-orange-500"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),r&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]})]}),p&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:a.jsx("p",{className:"text-sm text-red-600",children:p})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx(n.z,{variant:"outline",onClick:s,disabled:o,className:"px-4 py-2",children:d}),a.jsx(n.z,{onClick:h,disabled:o,className:"px-4 py-2",children:o?(0,a.jsxs)(a.Fragment,{children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):i})]})]})})}var p=t(94215),f=t(83765),h=t(35047),g=t(31855),y=t(43022),v=t(71315),j=t(85131),q=t(9664);let b=(0,q.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var N=t(43533),A=t(44432);let R=(0,q.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var w=t(28834),k=t(79997),T=t(90434),E=t(98181),S=t(77863),_=t(69181);function Z(){let{user:e}=(0,f.t)();(0,h.useRouter)();let{data:s,isLoading:t}=(0,d.Sh)(),{data:u,isLoading:m}=(0,l.DC)(),[q,{isLoading:S}]=(0,o.xA)(),[Z,P]=(0,c.useState)(!1),$=async()=>{try{let e=await q().unwrap();(0,p.Am)({variant:"success",title:"Bulk Approval",description:e?.message||"Bulk approval completed successfully"}),P(!1)}catch(e){(0,p.Am)({variant:"destructive",title:"Bulk Approval Failed",description:e?.data?.message||"Bulk approval failed"})}},{data:z,isLoading:M}=(0,d.LB)(),O=s?.slice(0,5)||[];return(0,a.jsxs)("div",{className:"space-y-6 p-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Admin Dashboard"}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",e?.fname," ",e?.lname]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[a.jsx(r.ll,{className:"text-xl",children:"Quick Actions"}),a.jsx(r.SZ,{children:"Common administrative tasks"})]}),a.jsx(r.aY,{children:(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(n.z,{asChild:!0,variant:"outline",className:"h-20 flex-col gap-2",children:(0,a.jsxs)(T.default,{href:"/staff/assign-exeat-role",children:[a.jsx(g.Z,{className:"h-6 w-6"}),a.jsx("span",{children:"Assign Roles"})]})}),a.jsx(n.z,{asChild:!0,variant:"outline",className:"h-20 flex-col gap-2",children:(0,a.jsxs)(T.default,{href:"/staff/pending",children:[a.jsx(y.Z,{className:"h-6 w-6"}),a.jsx("span",{children:"View Exeats"})]})}),a.jsx(n.z,{asChild:!0,variant:"outline",className:"h-20 flex-col gap-2",children:(0,a.jsxs)(T.default,{href:"/staff/admin/exeats/create",children:[a.jsx(v.Z,{className:"h-6 w-6"}),a.jsx("span",{children:"Apply Exeat For Student"})]})}),(0,a.jsxs)(n.z,{onClick:()=>P(!0),variant:"outline",className:"h-20 flex-col gap-2",disabled:S,children:[a.jsx(j.Z,{className:"h-6 w-6"}),a.jsx("span",{children:S?"Approving…":"Bulk Approve (Dean)"})]}),a.jsx(n.z,{asChild:!0,variant:"outline",className:"h-20 flex-col gap-2",children:(0,a.jsxs)(T.default,{href:"/staff/admin/analytics",children:[a.jsx(b,{className:"h-6 w-6"}),a.jsx("span",{children:"Analytics"})]})})]})})]}),z&&(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(C,{title:"Total Students",value:z.overview.total_students,description:"Registered students",icon:g.Z,className:"border-l-4 border-l-primary"}),a.jsx(C,{title:"Total Staff",value:z.overview.total_staff,description:"Active staff members",icon:N.Z,className:"border-l-4 border-l-green-500"}),a.jsx(C,{title:"Pending Exeats",value:z.overview.active_exeats,description:"Currently active",icon:A.Z,className:"border-l-4 border-l-blue-500"}),a.jsx(C,{title:"Students on Exeat",value:z.overview.student_away,description:"Students on exeat",icon:R,className:"border-l-4 border-l-purple-500"})]}),z&&(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-3",children:[a.jsx(C,{title:"Total Requests",value:z.exeat_statistics.total_requests,description:"All time requests",icon:y.Z,className:"border-l-4 border-l-primary"}),a.jsx(C,{title:"Approved Requests",value:z.overview.approved_exeats,description:"Successfully approved",icon:j.Z,className:"border-l-4 border-l-green-500"}),a.jsx(C,{title:"Rejected Requests",value:z.exeat_statistics.rejected_requests,description:"Not approved",icon:w.Z,className:"border-l-4 border-l-red-500"})]}),z&&(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(r.ll,{className:"text-xl",children:"Recent Audit Activity"}),a.jsx(r.SZ,{children:"Latest system actions and changes"})]}),a.jsx(n.z,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsxs)(T.default,{href:"/staff/admin/audit-trail",children:[a.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"View All"]})})]}),a.jsx(r.aY,{children:0===z.audit_trail.audit_logs.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(A.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("p",{children:"No recent audit activity"})]}):a.jsx("div",{className:"space-y-4",children:z.audit_trail.audit_logs.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-border/50 hover:bg-accent/50 transition-colors",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(A.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"font-medium text-sm truncate",children:[e.action," - ",e.target_type]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:["by ",e.actor.name]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.formatted_time})]})]},e.id))})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(r.ll,{className:"text-xl",children:"Recent Exeat Activities"}),a.jsx(r.SZ,{children:"Latest exeat request activities"})]}),a.jsx(n.z,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsxs)(T.default,{href:"/staff/pending",children:[a.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"View All"]})})]}),a.jsx(r.aY,{children:0===z.recent_activities.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(y.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("p",{children:"No recent activities"})]}):a.jsx("div",{className:"space-y-4",children:z.recent_activities.slice(0,10).map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-border/50 hover:bg-accent/50 transition-colors",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(A.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:e.action}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:["by ",e.actor," (",e.actor_type,")"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.formatted_time})]})]},e.id))})})]})]}),a.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(r.ll,{className:"text-xl",children:"Recent Staff Assignments"}),a.jsx(r.SZ,{children:"Latest role assignments and updates"})]}),a.jsx(n.z,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsxs)(T.default,{href:"/staff/assign-exeat-role",children:[a.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"View All Assignments"]})})]}),a.jsx(r.aY,{children:t?a.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[a.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),a.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]})]},s))}):0===O.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(g.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("p",{children:"No staff assignments yet"}),a.jsx(n.z,{asChild:!0,variant:"outline",className:"mt-4",children:(0,a.jsxs)(T.default,{href:"/staff/assign-exeat-role",children:[a.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Assign First Role"]})})]}):a.jsx("div",{className:"space-y-4",children:O.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border/50 hover:bg-accent/50 transition-colors",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(g.Z,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:e.staff_name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.staff_email})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[a.jsx(i.C,{variant:"secondary",className:"text-xs",children:e.role_display_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:(0,E.WU)(new Date(e.assigned_at),"MMM d")})]})]},`${e.staff_id}-${(0,_.h)(e)}`))})})]})}),a.jsx(x,{isOpen:Z,onClose:()=>P(!1),title:"Confirm Bulk Approval",description:"Approve all exeat requests that have passed secretary review and parent consent. This action cannot be undone.",confirmLabel:S?"Approving…":"Approve All",cancelLabel:"Cancel",onConfirm:$})]})}function C({title:e,value:s,description:t,icon:i,className:n,trend:d,trendValue:l}){return(0,a.jsxs)(r.Zb,{className:(0,S.cn)("transition-all duration-200 hover:shadow-md",n),children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[a.jsx(r.ll,{className:"text-base font-medium",children:e}),a.jsx(i,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-3xl font-bold",children:"number"==typeof s?s.toLocaleString():s}),d&&l&&(0,a.jsxs)("div",{className:(0,S.cn)("flex items-center gap-1 text-sm font-medium","up"===d?"text-green-600":"text-red-600"),children:["up"===d?a.jsx(b,{className:"h-4 w-4"}):a.jsx(b,{className:"h-4 w-4 rotate-180"}),l]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t})]})]})}},567:(e,s,t)=>{"use strict";t.d(s,{C:()=>d});var a=t(10326);t(17577);var r=t(79360),i=t(77863);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...t}){return a.jsx("div",{className:(0,i.cn)(n({variant:s}),e),...t})}},83765:(e,s,t)=>{"use strict";t.d(s,{t:()=>i});var a=t(25842),r=t(16007);function i(){let e=(0,a.v9)(r.HF);return{user:e,isLoading:(0,a.v9)(r.xU),fullName:e?`${e.fname} ${e.lname}`:"",initials:e?`${e.fname[0]}${e.lname[0]}`.toUpperCase():"",avatarUrl:e?.passport?`data:image/jpeg;base64,${e.passport}`:void 0}}},53540:(e,s,t)=>{"use strict";t.d(s,{IL:()=>g,Kp:()=>y,LB:()=>o,M0:()=>d,O6:()=>f,RE:()=>u,Sh:()=>a,TM:()=>p,TO:()=>x,Ym:()=>n,g3:()=>r,iN:()=>c,oS:()=>i,tU:()=>v,z:()=>m});let{useGetStaffAssignmentsQuery:a,useAssignExeatRoleMutation:r,useUnassignExeatRoleMutation:i,useGetRolesQuery:n,useGetStaffListQuery:d,useCreateRoleAssignmentMutation:l,useGetAdminDashboardStatsQuery:o,useGetAdminAuditTrailQuery:c,useGetHostelAssignmentOptionsQuery:u,useCreateHostelAssignmentMutation:m,useGetHostelAssignmentsQuery:x,useUpdateHostelAssignmentStatusMutation:p,useRemoveHostelAssignmentMutation:f,useGetStaffHostelAssignmentsQuery:h,useGetHostelAssignedStaffQuery:g,useGetStudentDebtsQuery:y,useClearStudentDebtMutation:v}=t(55415).h.injectEndpoints({endpoints:e=>({getStaffAssignments:e.query({query:()=>"/admin/staff/assignments",transformResponse:e=>e?.history&&Array.isArray(e.history)?e.history:e?.data?.history&&Array.isArray(e.data.history)?e.data.history:e?.data&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:(console.warn("Unexpected response structure for getStaffAssignments:",e),[]),providesTags:["Staff"]}),assignExeatRole:e.mutation({query:({staffId:e,exeatRoleId:s})=>({url:`/admin/staff/${e}/assign-exeat-role`,method:"POST",body:{exeat_role_id:s}}),transformResponse:e=>e.data,invalidatesTags:["Staff"]}),unassignExeatRole:e.mutation({query:({staffId:e,exeatRoleId:s})=>({url:`/admin/staff/${e}/unassign-exeat-role`,method:"DELETE",body:JSON.stringify({exeat_role_id:s}),headers:{"Content-Type":"application/json"}}),transformResponse:e=>e?.success!==void 0?e:e?.data?.success!==void 0?e.data:e?.message?{success:!0,message:e.message}:e?.data?.message?{success:!0,message:e.data.message}:"string"==typeof e?{success:!0,message:e}:{success:!0,message:"Role unassigned successfully"},transformErrorResponse:e=>(console.error("Unassign role error response:",e),e),invalidatesTags:["Staff"]}),getRoles:e.query({query:()=>"/admin/roles",transformResponse:e=>e?.roles&&Array.isArray(e.roles)?e.roles:e?.data?.roles&&Array.isArray(e.data.roles)?e.data.roles:e?.data&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:(console.warn("Unexpected response structure for getRoles:",e),[]),providesTags:["ExeatRoles"]}),getStaffList:e.query({query:()=>"/admin/staff",transformResponse:e=>e?.staff&&Array.isArray(e.staff)?e.staff:e?.data?.staff&&Array.isArray(e.data.staff)?e.data.staff:e?.data&&Array.isArray(e.data)?e.data:Array.isArray(e)?e:(console.warn("Unexpected response structure for getStaffList:",e),[]),providesTags:["Staff"]}),createRoleAssignment:e.mutation({query:e=>({url:"/admin/roles",method:"POST",body:e}),transformResponse:e=>e.data,invalidatesTags:["Staff","ExeatRoles"]}),getAdminDashboardStats:e.query({query:()=>"/dashboard/admin",transformResponse:e=>e.data,providesTags:["DashboardStats"]}),getAdminAuditTrail:e.query({query:({page:e=1,per_page:s=20}={})=>({url:"/dashboard/dean",params:{page:e,per_page:s}}),transformResponse:e=>e,providesTags:["Admin"]}),getHostelAssignmentOptions:e.query({query:({per_page:e=15,page:s=1})=>({url:"/admin/hostel-assignments/options",params:{per_page:e,page:s}}),transformResponse:e=>e.data,providesTags:["Admin"]}),createHostelAssignment:e.mutation({query:e=>({url:"/admin/hostel-assignments",method:"POST",body:e}),transformResponse:e=>e,invalidatesTags:["Admin"]}),getHostelAssignments:e.query({query:e=>({url:"/admin/hostel-assignments",params:e}),transformResponse:e=>e,providesTags:["Admin"]}),updateHostelAssignmentStatus:e.mutation({query:({id:e,status:s})=>({url:`/admin/hostel-assignments/${e}`,method:"PUT",body:{status:s}}),transformResponse:e=>e,invalidatesTags:["Admin"]}),removeHostelAssignment:e.mutation({query:e=>({url:`/admin/hostel-assignments/${e}`,method:"DELETE"}),transformResponse:e=>e,invalidatesTags:["Admin"]}),getStaffHostelAssignments:e.query({query:e=>`/admin/hostel-assignments/staff/${e}`,transformResponse:e=>e,providesTags:["Admin"]}),getHostelAssignedStaff:e.query({query:e=>`/admin/hostel-assignments/hostel/${e}`,transformResponse:e=>e,providesTags:["Admin"]}),getStudentDebts:e.query({query:e=>({url:"/admin/student-debts",params:e}),transformResponse:e=>e,providesTags:["Admin"]}),clearStudentDebt:e.mutation({query:({id:e,data:s})=>({url:`/admin/student-debts/${e}/clear`,method:"POST",body:s}),transformResponse:e=>e,invalidatesTags:["Admin"]})})})},35372:(e,s,t)=>{"use strict";t.d(s,{DC:()=>n,NL:()=>a,Ve:()=>l,Y2:()=>i,c4:()=>d});let{useGetCategoriesQuery:a,useGetStudentProfileFromExeatQuery:r,useCreateExeatRequestMutation:i,useGetExeatRequestsQuery:n,useGetExeatRequestDetailsQuery:d,useGetExeatRequestHistoryQuery:l}=t(55415).h.injectEndpoints({endpoints:e=>({getExeatRequests:e.query({query:()=>"/student/exeat-requests",providesTags:["ExeatRequests"]}),getCategories:e.query({query:()=>"/student/exeat-categories",transformResponse:e=>e}),getStudentProfileFromExeat:e.query({query:()=>"/me",transformResponse:e=>{if(!e.success||!e.data?.profile)throw Error("Failed to load profile data");return e.data}}),createExeatRequest:e.mutation({query:e=>({url:"/student/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),getExeatRequestHistory:e.query({query:e=>`/student/exeat-requests/${e}/history`,providesTags:["ExeatRequests"]}),getExeatRequestDetails:e.query({query:e=>`/student/exeat-requests/${e}`,providesTags:["ExeatRequests"]})})})},70787:(e,s,t)=>{"use strict";t.d(s,{CD:()=>j,Og:()=>c,RX:()=>f,Rk:()=>d,Sr:()=>r,Tq:()=>u,Vm:()=>l,b:()=>a,cu:()=>i,js:()=>h,mM:()=>v,oZ:()=>p,s$:()=>m,ui:()=>y,vN:()=>n,w9:()=>x,xA:()=>q,yH:()=>o});let{useGetStaffProfileQuery:a,useGetAllExeatRequestsQuery:r,useGetExeatRequestsByStatusQuery:i,useGetExeatRequestByIdQuery:n,useGetExeatRequestsByStudentIdQuery:d,useApproveExeatRequestMutation:l,useRejectExeatRequestMutation:o,useSignStudentOutMutation:c,useSignStudentInMutation:u,useGetExeatStatisticsQuery:m,useGetCompletedExeatRequestsQuery:x,useGetCompletedExeatRequestDetailsQuery:p,useGetRejectedExeatRequestsQuery:f,useGetRejectedExeatRequestDetailsQuery:h,useGetStaffDashboardStatsQuery:g,useSendCommentMutation:y,useEditExeatRequestMutation:v,useDeanApplyExeatRequestMutation:j,useDeanBulkApproveExeatsMutation:q}=t(55415).h.injectEndpoints({endpoints:e=>({getStaffProfile:e.query({query:()=>"/me",transformResponse:e=>e.user,providesTags:["Profile"]}),getAllExeatRequests:e.query({query:()=>"/staff/exeat-requests",transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestsByStudentId:e.query({query:e=>({url:"/staff/exeat-requests",params:{student_id:e}}),transformResponse:e=>Array.isArray(e)?e:"exeat_requests"in e?e.exeat_requests:e?.data?.exeat_requests?e.data.exeat_requests:[],providesTags:["ExeatRequests"]}),getExeatRequestsByStatus:e.query({query:e=>`/staff/exeat-requests?status=${e}`,transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestById:e.query({query:e=>`/staff/exeat-requests/${e}`,transformResponse:e=>{if(e?.message&&e.message.includes("permission"))throw Error(e.message);if(e?.exeat_request)return e.exeat_request;throw Error("Invalid response format from server")},providesTags:(e,s,t)=>[{type:"ExeatRequests",id:t}]}),approveExeatRequest:e.mutation({query:({exeat_request_id:e,comment:s})=>({url:`/staff/exeat-requests/${e}/approve`,method:"POST",body:{comment:s}}),invalidatesTags:["ExeatRequests"]}),rejectExeatRequest:e.mutation({query:({exeat_request_id:e,comment:s})=>({url:`/staff/exeat-requests/${e}/reject`,method:"POST",body:{comment:s}}),invalidatesTags:["ExeatRequests"]}),signStudentOut:e.mutation({query:({exeat_request_id:e,comment:s})=>({url:`/staff/exeat-requests/${e}/sign-out`,method:"POST",body:{comment:s}}),invalidatesTags:["ExeatRequests"]}),signStudentIn:e.mutation({query:({exeat_request_id:e,comment:s})=>({url:`/staff/exeat-requests/${e}/sign-in`,method:"POST",body:{comment:s}}),invalidatesTags:["ExeatRequests"]}),getExeatStatistics:e.query({query:()=>"/staff/exeat-statistics",transformResponse:e=>e.data,providesTags:["Staff"]}),getCompletedExeatRequests:e.query({query:({page:e=1,per_page:s=50}={})=>({url:"/exeats/by-status/completed",params:{page:e,per_page:s}}),transformResponse:e=>e,providesTags:["ExeatRequests"]}),getCompletedExeatRequestDetails:e.query({query:e=>`/exeats/by-status/completed/${e}`,transformResponse:e=>e,providesTags:["ExeatRequests"]}),getStaffDashboardStats:e.query({query:()=>"/staff/dashboard",transformResponse:e=>e,providesTags:["DashboardStats"]}),getRejectedExeatRequests:e.query({query:({page:e=1,per_page:s=50}={})=>({url:"/exeats/by-status/rejected",params:{page:e,per_page:s}}),transformResponse:e=>e,providesTags:["ExeatRequests"]}),getRejectedExeatRequestDetails:e.query({query:e=>`/exeats/by-status/rejected/${e}`,transformResponse:e=>e,providesTags:["ExeatRequests"]}),sendComment:e.mutation({query:({exeat_request_id:e,comment:s})=>({url:`/staff/exeat-requests/${e}/send-comment`,method:"POST",body:{comment:s,priority:"high"}}),invalidatesTags:["ExeatRequests"]}),editExeatRequest:e.mutation({query:({exeat_request_id:e,payload:s})=>({url:`/staff/exeat-requests/${e}`,method:"PUT",body:s}),invalidatesTags:["ExeatRequests"]}),deanApplyExeatRequest:e.mutation({query:e=>({url:"/dean/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),deanBulkApproveExeats:e.mutation({query:()=>({url:"/dean/exeat-requests/bulkAprroval",method:"POST"}),invalidatesTags:["ExeatRequests"]})})})},69181:(e,s,t)=>{"use strict";t.d(s,{h:()=>a});let a=e=>{if(!e)return"Unknown Role";if("string"==typeof e)return e;if("object"==typeof e){if(e.role&&"object"==typeof e.role&&e.role.name)return e.role.name;if(e.name)return e.name;if(e.display_name)return e.display_name}return"Unknown Role"}},3612:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`c:\Users\Al Agha\Downloads\project_exeat-master\app\staff\admin\page.tsx#default`)},44432:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},79997:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},64664:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},85131:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},28834:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},72669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},71315:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},22750:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},43533:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},193:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},31855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(9664).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[5454,7545,8181,5346,9384],()=>t(43578));module.exports=a})();