"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9717],{16831:function(e,t,r){r.d(t,{F$:function(){return i},Q5:function(){return c},qE:function(){return u}});var a=r(57437),s=r(2265),n=r(27954),o=r(94508);let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});u.displayName=n.fC.displayName;let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",r),...s})});i.displayName=n.Ee.displayName;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});c.displayName=n.NY.displayName},26110:function(e,t,r){r.d(t,{$N:function(){return m},Be:function(){return h},Vq:function(){return i},cN:function(){return p},cZ:function(){return l},fK:function(){return f}});var a=r(57437),s=r(2265),n=r(70001),o=r(44986),u=r(94508);let i=n.fC;n.xz;let c=n.h_;n.x8;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});d.displayName=n.aV.displayName;let l=s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(n.VY,{ref:t,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[s,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});l.displayName=n.VY.displayName;let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,u.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};f.displayName="DialogHeader";let p=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};p.displayName="DialogFooter";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,u.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});m.displayName=n.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,u.cn)("text-sm text-muted-foreground",r),...s})});h.displayName=n.dk.displayName},76818:function(e,t,r){r.d(t,{g:function(){return o}});var a=r(57437),s=r(2265),n=r(94508);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});o.displayName="Textarea"},35153:function(e,t,r){r.d(t,{Am:function(){return p},pm:function(){return m}});var a=r(2265);let s=0,n=new Map,o=new Map,u=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),f({type:"REMOVE_TOAST",toastId:e})},5e3);n.set(e,t)},i=e=>{let t=o.get(e);t&&(clearTimeout(t),o.delete(e))},c=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?(i(r),u(r)):e.toasts.forEach(e=>{i(e.id),u(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function f(e){l=c(l,e),d.forEach(e=>{e(l)})}function p(e){let{duration:t,...r}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=null!=t?t:5e3,u=()=>{i(a),f({type:"DISMISS_TOAST",toastId:a})};f({type:"ADD_TOAST",toast:{...r,id:a,open:!0,duration:n,onOpenChange:e=>{e||u()}}});let c=setTimeout(()=>{u()},n);return o.set(a,c),{id:a,dismiss:u,update:e=>f({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=a.useState(l);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:p,dismiss:e=>f({type:"DISMISS_TOAST",toastId:e})}}},28233:function(e,t,r){r.d(t,{CD:function(){return q},Og:function(){return d},RX:function(){return h},Rk:function(){return u},Sr:function(){return s},Tq:function(){return l},Vm:function(){return i},b:function(){return a},cu:function(){return n},js:function(){return y},mM:function(){return x},oZ:function(){return m},s$:function(){return f},ui:function(){return v},vN:function(){return o},w9:function(){return p},xA:function(){return w},yH:function(){return c}});let{useGetStaffProfileQuery:a,useGetAllExeatRequestsQuery:s,useGetExeatRequestsByStatusQuery:n,useGetExeatRequestByIdQuery:o,useGetExeatRequestsByStudentIdQuery:u,useApproveExeatRequestMutation:i,useRejectExeatRequestMutation:c,useSignStudentOutMutation:d,useSignStudentInMutation:l,useGetExeatStatisticsQuery:f,useGetCompletedExeatRequestsQuery:p,useGetCompletedExeatRequestDetailsQuery:m,useGetRejectedExeatRequestsQuery:h,useGetRejectedExeatRequestDetailsQuery:y,useGetStaffDashboardStatsQuery:g,useSendCommentMutation:v,useEditExeatRequestMutation:x,useDeanApplyExeatRequestMutation:q,useDeanBulkApproveExeatsMutation:w}=r(46144).h.injectEndpoints({endpoints:e=>({getStaffProfile:e.query({query:()=>"/me",transformResponse:e=>e.user,providesTags:["Profile"]}),getAllExeatRequests:e.query({query:()=>"/staff/exeat-requests",transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestsByStudentId:e.query({query:e=>({url:"/staff/exeat-requests",params:{student_id:e}}),transformResponse:e=>{var t;return Array.isArray(e)?e:"exeat_requests"in e?e.exeat_requests:(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.exeat_requests)?e.data.exeat_requests:[]},providesTags:["ExeatRequests"]}),getExeatRequestsByStatus:e.query({query:e=>"/staff/exeat-requests?status=".concat(e),transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestById:e.query({query:e=>"/staff/exeat-requests/".concat(e),transformResponse:e=>{if((null==e?void 0:e.message)&&e.message.includes("permission"))throw Error(e.message);if(null==e?void 0:e.exeat_request)return e.exeat_request;throw Error("Invalid response format from server")},providesTags:(e,t,r)=>[{type:"ExeatRequests",id:r}]}),approveExeatRequest:e.mutation({query:e=>{let{exeat_request_id:t,comment:r}=e;return{url:"/staff/exeat-requests/".concat(t,"/approve"),method:"POST",body:{comment:r}}},invalidatesTags:["ExeatRequests"]}),rejectExeatRequest:e.mutation({query:e=>{let{exeat_request_id:t,comment:r}=e;return{url:"/staff/exeat-requests/".concat(t,"/reject"),method:"POST",body:{comment:r}}},invalidatesTags:["ExeatRequests"]}),signStudentOut:e.mutation({query:e=>{let{exeat_request_id:t,comment:r}=e;return{url:"/staff/exeat-requests/".concat(t,"/sign-out"),method:"POST",body:{comment:r}}},invalidatesTags:["ExeatRequests"]}),signStudentIn:e.mutation({query:e=>{let{exeat_request_id:t,comment:r}=e;return{url:"/staff/exeat-requests/".concat(t,"/sign-in"),method:"POST",body:{comment:r}}},invalidatesTags:["ExeatRequests"]}),getExeatStatistics:e.query({query:()=>"/staff/exeat-statistics",transformResponse:e=>e.data,providesTags:["Staff"]}),getCompletedExeatRequests:e.query({query:function(){let{page:e=1,per_page:t=50}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:"/exeats/by-status/completed",params:{page:e,per_page:t}}},transformResponse:e=>e,providesTags:["ExeatRequests"]}),getCompletedExeatRequestDetails:e.query({query:e=>"/exeats/by-status/completed/".concat(e),transformResponse:e=>e,providesTags:["ExeatRequests"]}),getStaffDashboardStats:e.query({query:()=>"/staff/dashboard",transformResponse:e=>e,providesTags:["DashboardStats"]}),getRejectedExeatRequests:e.query({query:function(){let{page:e=1,per_page:t=50}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:"/exeats/by-status/rejected",params:{page:e,per_page:t}}},transformResponse:e=>e,providesTags:["ExeatRequests"]}),getRejectedExeatRequestDetails:e.query({query:e=>"/exeats/by-status/rejected/".concat(e),transformResponse:e=>e,providesTags:["ExeatRequests"]}),sendComment:e.mutation({query:e=>{let{exeat_request_id:t,comment:r}=e;return{url:"/staff/exeat-requests/".concat(t,"/send-comment"),method:"POST",body:{comment:r,priority:"high"}}},invalidatesTags:["ExeatRequests"]}),editExeatRequest:e.mutation({query:e=>{let{exeat_request_id:t,payload:r}=e;return{url:"/staff/exeat-requests/".concat(t),method:"PUT",body:r}},invalidatesTags:["ExeatRequests"]}),deanApplyExeatRequest:e.mutation({query:e=>({url:"/dean/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),deanBulkApproveExeats:e.mutation({query:()=>({url:"/dean/exeat-requests/bulkAprroval",method:"POST"}),invalidatesTags:["ExeatRequests"]})})})},44259:function(e,t,r){r.d(t,{G4:function(){return f},Oo:function(){return d},Q4:function(){return p},_0:function(){return i},bJ:function(){return o},bt:function(){return n},kK:function(){return s},po:function(){return u},pu:function(){return a},tu:function(){return c},xE:function(){return l}});let a=e=>{switch(e){case"security_signin":return"Monitor Return";case"approved":return"Active Request";case"rejected":return"Request Rejected";case"completed":return"Request Completed";case"pending":default:return"Take Action";case"cmd_review":return"Medical Director Review";case"secretary_review":return"Secretary Review";case"dean_review":return"Dean/Deputy Dean Review";case"parent_consent":return"Awaiting Parent Approval";case"hostel_signin":case"hostel_signin":return"Hostel Sign-In Required";case"hostel_signout":case"hostel_signout":return"Hostel Sign-Out Required";case"recommendation1":case"recommendation2":return"Under Review";case"dean_approval":return"Awaiting Dean Approval";case"security_signin":return"Security Sign-In Required";case"security_signout":return"Security Sign-Out Required"}},s=e=>{switch(e){case"security_signin":return"Student is currently away. Monitor their return and ensure they check-in by the designated time.";case"approved":return"This exeat request has been approved and is currently active. The student is away from campus.";case"rejected":return"This request has been rejected. The student has been notified of the decision.";case"completed":return"This exeat request has been completed successfully. The student has returned to campus.";case"pending":default:return"This request requires your decision. Please review carefully and provide appropriate feedback.";case"cmd_review":return"This medical request is under review by the Medical Director. Your input may be required.";case"secretary_review":return"This request is under review by the Secretary. Please await their decision.";case"dean_review":return"This request requires review by the Dean of Students. Please await their decision.";case"parent_consent":return"This request is awaiting parent/guardian consent. Contact will be made soon.";case"hostel_signin":return"Student must complete hostel sign-in procedures before departure.";case"hostel_signout":return"Student must complete hostel sign-out procedures for departure.";case"recommendation1":case"recommendation2":return"This request is currently under review by relevant authorities.";case"dean_approval":return"This request is awaiting final approval from the Dean.";case"hostel_approval":return"This request is being processed by hostel administration."}},n=e=>{switch(e){case"security_signin":return"Monitoring Notes";case"approved":return"Approval Notes";case"rejected":return"Rejection Reason";case"completed":return"Completion Notes";default:return"Decision Comment"}},o=e=>{switch(e){case"security_signin":return"Add any notes about the student's return status...";case"approved":return"Add any additional notes about this approved request...";case"rejected":return"Provide the reason for rejection...";case"completed":return"Add notes about the completed request...";default:return"Provide context for your decision..."}},u=e=>{switch(e){case"rejected":return"(required)";case"pending":return"(required for rejection, optional for approval)";default:return"(optional)"}},i=e=>["pending","cmd_review","secretary_review","dean_review","recommendation1","recommendation2"].includes(e),c=(e,t)=>t||1===e?"\uD83C\uDFE5":2===e?"\uD83C\uDF34":3===e?"\uD83D\uDEA8":4===e?"\uD83D\uDCBC":"\uD83D\uDCCB",d=(e,t)=>t||1===e?"Medical":2===e?"Casual":3===e?"Emergency":4===e?"Official":"General",l=(e,t,r,a,s)=>{let n=1===s?"1 day":"".concat(s," days");switch(e){case"pending":return"You are about to approve ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. This will allow the student to leave campus for the stated reason: "').concat(r,'". The student will be able to proceed to the next stage once approved.');case"cmd_review":return"You are approving ".concat(t,"'s medical exeat request to ").concat(a," for ").concat(n,'. As the Medical Director, your approval confirms that the medical reason "').concat(r,'" is valid and the student may move to the next stage to proceed with their medical leave.');case"secretary_review":return"You are approving ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. As the Secretary, your approval confirms that the reason "').concat(r,'" meets institutional standards and the student may proceed with their leave.');case"dean_review":return"You are approving ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. As the Dean of Students, your approval is the final authorization for the student to leave campus for the stated reason: "').concat(r,'".');case"recommendation1":case"recommendation2":return"You are approving ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. Your approval confirms that the reason "').concat(r,'" is acceptable and the student may proceed with their leave request.');case"security_signin":return"You are about to sign ".concat(t," back into the school after their exeat. This will allow the student to return to campus and complete their exeat.");case"security_signout":return"You are about to sign ".concat(t," out of the school. This will allow the student to leave campus.");case"hostel_signout":return"You are about to sign ".concat(t," out of the hostel. As the Hostel Administrator, this will allow the student to leave campus.");case"hostel_signin":return"You are about to sign ".concat(t," back into the hostel after their exeat. As the Hostel Administrator, this will allow the student to return to campus and complete their exeat.");default:return"You are about to approve ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. This will authorize the student to leave campus for the stated reason: "').concat(r,'".')}},f=(e,t,r,a,s)=>{let n=1===s?"1 day":"".concat(s," days");switch(e){case"pending":return"You are about to reject ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. The student will not be allowed to leave campus for the stated reason: "').concat(r,'". Please ensure you provide a clear reason for rejection.');case"cmd_review":return"You are rejecting ".concat(t,"'s medical exeat request to ").concat(a," for ").concat(n,'. As the Medical Director, your rejection indicates that the medical reason "').concat(r,'" does not meet medical leave criteria.');case"secretary_review":return"You are rejecting ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. As the Secretary, your rejection indicates that the reason "').concat(r,'" does not meet institutional standards.');case"dean_review":return"You are rejecting ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,". As the Dean of Students, your rejection is the final decision denying the student's request to leave campus for the stated reason: \"").concat(r,'".');case"recommendation1":case"recommendation2":return"You are rejecting ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. Your rejection indicates that the reason "').concat(r,'" is not acceptable for the requested leave.');default:return"You are about to reject ".concat(t,"'s exeat request to ").concat(a," for ").concat(n,'. The student will not be allowed to leave campus for the stated reason: "').concat(r,'".')}},p=e=>{switch(e){case"pending":default:return"Approve Request";case"cmd_review":return"Approve Medical Review";case"secretary_review":return"Approve Secretary Review";case"dean_review":return"Approve Dean Review";case"hostel_signout":return"Approve Hostel Sign Out";case"hostel_signin":return"Approve Hostel Sign In";case"security_signout":return"Approve Security Sign Out";case"security_signin":return"Approve Security Sign In";case"recommendation1":case"recommendation2":return"Approve Recommendation"}}}}]);