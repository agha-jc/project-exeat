"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9090],{53717:function(e,t,r){r.d(t,{Y:function(){return f}});var n=r(57437),a=r(2265),s=r(66070),o=r(7641),d=r(28199),i=r(86367),l=r(27107),c=r(56942),u=r(25361),x=r(24739),m=r(38649),g=r(94508);function f(e){let{departureDate:t,returnDate:r,variant:f="student",className:p}=e,[h,v]=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0,totalMinutes:0}),b=(0,a.useMemo)(()=>{try{let e=new Date(t),n=new Date(r);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}catch(e){return!1}},[t,r]);(0,a.useEffect)(()=>{let e=()=>{try{let e=new Date,n=new Date(t),a=new Date(r);if(isNaN(a.getTime())||isNaN(n.getTime())){console.error("Invalid date format:",t,r),v({days:0,hours:0,minutes:0,seconds:0,totalMinutes:0});return}let s=(0,o.i)(a);if(b){if(e>s){let t=Math.abs((0,d.c)(e,s));v({days:Math.ceil(t/86400),hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:t%60,totalMinutes:-(0,i.X)(e,s)});return}{let t=Math.max(0,(0,d.c)(s,e));v({days:Math.max(0,Math.floor(t/86400)),hours:0,minutes:0,seconds:t%60,totalMinutes:(0,i.X)(s,e)});return}}let l=(0,i.X)(s,e);if(l<=0){let t=Math.abs((0,d.c)(e,s));v({days:Math.ceil(t/86400),hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:t%60,totalMinutes:l});return}let c=(0,d.c)(s,e);v({days:Math.floor(c/86400),hours:Math.floor(c/3600)%24,minutes:Math.floor(c/60)%60,seconds:c%60,totalMinutes:l})}catch(e){console.error("Error in countdown calculation:",e),v({days:0,hours:0,minutes:0,seconds:0,totalMinutes:0})}};e();let n=new Date,a=new Date(r),s=(0,o.i)(a),l=setInterval(e,(b?n>s:0>=(0,i.X)(s,n))?1e3:6e4);return()=>clearInterval(l)},[r,t,b]);let w=h.totalMinutes<=0,y=!b&&h.totalMinutes<=1440&&h.totalMinutes>0,N=w?1e4*h.days:0;return(0,n.jsxs)(s.Zb,{className:(0,g.cn)("p-3 sm:p-4 border-2 transition-all duration-300",w?"bg-gradient-to-r from-red-50 to-rose-50 border-red-200 shadow-red-100":y?"bg-gradient-to-r from-orange-50 to-yellow-50 border-orange-200 shadow-orange-100":"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 shadow-green-100",p),children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[(0,n.jsx)("div",{className:(0,g.cn)("p-2 rounded-full flex-shrink-0",w?"bg-red-100":y?"bg-orange-100":"bg-green-100"),children:w?(0,n.jsx)(u.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"}):y?(0,n.jsx)(x.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"}):(0,n.jsx)(m.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("h3",{className:(0,g.cn)("font-semibold text-sm sm:text-base",w?"text-red-900":y?"text-orange-900":"text-green-900"),children:w?"student"===f?"Overdue":"Student Overdue":"Return Date"}),(0,n.jsx)("p",{className:(0,g.cn)("text-xs mt-0.5",w?"text-red-700":y?"text-orange-700":"text-green-700"),children:(0,l.WU)(new Date(r),"MMM d, yyyy")})]})]}),(0,n.jsx)("div",{className:"flex-shrink-0",children:w?(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-1 sm:gap-1.5 w-full sm:w-auto",children:[(0,n.jsxs)("div",{className:"text-center min-w-0 px-0.5",children:[(0,n.jsx)("div",{className:"text-lg sm:text-xl font-bold text-red-600",children:h.days}),(0,n.jsx)("div",{className:"text-[10px] text-red-700 mt-0.5",children:"D"})]}),(0,n.jsxs)("div",{className:"text-center min-w-0 px-0.5",children:[(0,n.jsx)("div",{className:"text-lg sm:text-xl font-bold text-red-600",children:String(h.hours).padStart(2,"0")}),(0,n.jsx)("div",{className:"text-[10px] text-red-700 mt-0.5",children:"H"})]}),(0,n.jsxs)("div",{className:"text-center min-w-0 px-0.5",children:[(0,n.jsx)("div",{className:"text-lg sm:text-xl font-bold text-red-600",children:String(h.minutes).padStart(2,"0")}),(0,n.jsx)("div",{className:"text-[10px] text-red-700 mt-0.5",children:"M"})]}),(0,n.jsxs)("div",{className:"text-center min-w-0 px-0.5",children:[(0,n.jsx)("div",{className:"text-lg sm:text-xl font-bold text-red-600",children:String(h.seconds).padStart(2,"0")}),(0,n.jsx)("div",{className:"text-[10px] text-red-700 mt-0.5",children:"S"})]})]}):!b&&(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2 w-full sm:w-auto",children:[(0,n.jsxs)("div",{className:"text-center min-w-0 px-0.5",children:[(0,n.jsx)("div",{className:(0,g.cn)("text-xl sm:text-2xl font-bold",y?"text-orange-600":"text-green-600"),children:h.days}),(0,n.jsx)("div",{className:"text-[10px] text-muted-foreground mt-0.5",children:"D"})]}),(0,n.jsxs)("div",{className:"text-center min-w-0 px-0.5",children:[(0,n.jsx)("div",{className:(0,g.cn)("text-xl sm:text-2xl font-bold",y?"text-orange-600":"text-green-600"),children:h.hours}),(0,n.jsx)("div",{className:"text-[10px] text-muted-foreground mt-0.5",children:"H"})]}),(0,n.jsxs)("div",{className:"text-center min-w-0 px-0.5",children:[(0,n.jsx)("div",{className:(0,g.cn)("text-xl sm:text-2xl font-bold",y?"text-orange-600":"text-green-600"),children:h.minutes}),(0,n.jsx)("div",{className:"text-[10px] text-muted-foreground mt-0.5",children:"M"})]})]})})]}),!w&&!b&&(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,n.jsx)("div",{className:(0,g.cn)("h-1.5 rounded-full transition-all duration-1000",y?"bg-orange-500":"bg-green-500"),style:{width:"".concat((()=>{try{let e=(0,c.b)(new Date(t)).getTime(),n=(0,o.i)(new Date(r)).getTime(),a=Date.now();if(isNaN(e)||isNaN(n)||n<=e)return 0;return Math.max(0,Math.min(100,(a-e)/(n-e)*100))}catch(e){return 0}})(),"%")}})})}),w&&"student"===f&&(0,n.jsx)("div",{className:"mt-3 p-2.5 bg-red-100 border border-red-300 rounded-md",children:(0,n.jsxs)("p",{className:"text-xs text-red-800",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Penalty:"})," ₦",N.toLocaleString()," (",h.days," day",1!==h.days?"s":""," \xd7 ₦10,000)"]})}),w&&"staff"===f&&(0,n.jsx)("div",{className:"mt-3 p-2.5 bg-red-100 border border-red-300 rounded-md",children:(0,n.jsxs)("p",{className:"text-xs text-red-800",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Penalty:"})," ₦",N.toLocaleString()]})})]})}},35974:function(e,t,r){r.d(t,{C:function(){return d}});var n=r(57437);r(2265);var a=r(90535),s=r(94508);let o=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(o({variant:r}),t),...a})}},62869:function(e,t,r){r.d(t,{d:function(){return i},z:function(){return l}});var n=r(57437),a=r(2265),s=r(37053),o=r(90535),d=r(94508);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:l=!1,...c}=e,u=l?s.g7:"button";return(0,n.jsx)(u,{className:(0,d.cn)(i({variant:a,size:o,className:r})),ref:t,...c})});l.displayName="Button"},66070:function(e,t,r){r.d(t,{Ol:function(){return d},SZ:function(){return l},Zb:function(){return o},aY:function(){return c},ll:function(){return i}});var n=r(57437),a=r(2265),s=r(94508);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});o.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});d.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});l.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},21378:function(e,t,r){r.d(t,{t:function(){return d}});var n=r(57437);r(2265);var a=r(35974),s=r(42676),o=r(94508);let d=e=>{let{status:t,className:r,size:d="md"}=e;return(0,n.jsx)(a.C,{className:(0,o.cn)("whitespace-nowrap font-medium",{sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"}[d],(0,s.z2)(t),r),children:(0,s.li)(t)})}},46144:function(e,t,r){r.d(t,{h:function(){return i}});var n=r(79523),a=r(23557);let s=e=>e().auth.token,o=(0,n.ni)({baseUrl:"https://attendance.veritas.edu.ng/api",prepareHeaders:(e,t)=>{let{getState:r}=t,n=s(r);return n&&e.set("Authorization","Bearer ".concat(n)),e.set("Content-Type","application/json"),e.set("Accept","application/json"),e}}),d=async(e,t,r)=>{let n=await o(e,t,r);return n.error&&401===n.error.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),n},i=(0,a.LC)({reducerPath:"api",baseQuery:d,tagTypes:["Profile","ExeatCategories","ExeatRequests","ExeatRoles","Staff","ExeatRequests","DashboardStats","Admin","StudentDebts"],endpoints:()=>({})})},94508:function(e,t,r){r.d(t,{cn:function(){return s}});var n=r(61994),a=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},42676:function(e,t,r){r.d(t,{li:function(){return a},nd:function(){return s},z2:function(){return n}});let n=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-200";case"completed":return"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200";case"rejected":return"bg-red-100 text-red-800 border-red-200 hover:bg-red-200";case"cmd_review":case"secretary_review":case"dean_review":return"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200";case"parent_consent":return"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200";case"hostel_signin":case"hostel_signout":return"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200";case"recommendation1":case"recommendation2":case"dean_approval":case"hostel_approval":return"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200"}},a=e=>{switch(e){case"pending":return"Awaiting Initial Review";case"cmd_review":return"Medical Director Review";case"secretary_review":return"Secretary Review";case"parent_consent":return"Awaiting Parent Approval";case"dean_review":return"Dean/Deputy Dean Review";case"hostel_signin":return"Ready for Hostel Sign-In";case"hostel_signout":return"Ready for Hostel Sign-Out";case"security_signin":return"Student Away - Awaiting Return";case"security_signout":return"Ready for Security Sign-Out";case"recommendation1":return"Under Initial Review";case"recommendation2":return"Under Final Review";case"dean_approval":return"Awaiting Dean Approval";case"hostel_approval":return"Hostel Processing";case"approved":return"Request Approved";case"rejected":return"Request Not Approved";case"completed":return"Request Completed";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},s=e=>{let t=["reason","destination","departure_date","return_date","comment"];return["admin","dean"].includes(e)?[...t,"parent_surname","parent_othernames","parent_phone_no","parent_phone_no_two","parent_email","preferred_mode_of_contact","category_id","is_medical"]:t}}}]);