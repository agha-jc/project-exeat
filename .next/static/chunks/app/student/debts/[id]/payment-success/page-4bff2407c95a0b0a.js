(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1412],{30814:function(e,t,s){Promise.resolve().then(s.bind(s,68977))},68977:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(57437),n=s(99376),a=s(66163),i=s(66070),l=s(62869),d=s(65613),c=s(5485),o=s(5255);let u=(0,s(96471).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);var m=s(27648);function f(){let e=(0,n.useParams)(),t=(0,n.useSearchParams)(),s=e.id,f=t.get("reference"),{data:x,isLoading:p,error:h}=(0,a.N3)({id:parseInt(s),reference:f||""},{skip:!s||!f});if(p)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsx)(i.Zb,{className:"w-full max-w-md",children:(0,r.jsxs)(i.aY,{className:"p-6 text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading payment details..."})]})})});if(h||!x)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(i.Ol,{className:"text-center",children:[(0,r.jsx)(i.ll,{className:"text-xl text-red-700",children:"Error Loading Payment Details"}),(0,r.jsx)(i.SZ,{children:"Unable to load payment verification details."})]}),(0,r.jsx)(i.aY,{children:(0,r.jsx)(l.z,{asChild:!0,className:"w-full",children:(0,r.jsxs)(m.default,{href:"/student/debts",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Back to Debts"]})})})]})});let y=e=>new Date(e).toLocaleDateString("en-NG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-2xl",children:[(0,r.jsxs)(i.Ol,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto mb-4 p-3 bg-green-100 rounded-full w-fit",children:(0,r.jsx)(o.Z,{className:"h-12 w-12 text-green-600"})}),(0,r.jsx)(i.ll,{className:"text-2xl text-green-700",children:"Payment Successful!"}),(0,r.jsx)(i.SZ,{className:"text-lg",children:"Your debt has been successfully cleared and your payment has been verified."})]}),(0,r.jsxs)(i.aY,{className:"space-y-6",children:[(0,r.jsxs)(d.bZ,{children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)(d.X,{children:x.message})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(u,{className:"h-5 w-5 text-gray-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Payment Details"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Payment Reference:"}),(0,r.jsx)("span",{className:"text-sm font-mono bg-white px-2 py-1 rounded border",children:x.data.payment_reference})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Payment Date:"}),(0,r.jsx)("span",{className:"text-sm",children:y(x.data.payment_date)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Status:"}),(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium capitalize",children:x.data.payment_status})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Cleared Date:"}),(0,r.jsx)("span",{className:"text-sm",children:y(x.data.cleared_at)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Debt ID:"}),(0,r.jsxs)("span",{className:"text-sm font-mono",children:["#",x.data.id]})]})]})]})]}),x.data.exeat_request&&(0,r.jsxs)("div",{className:"bg-primary/10 p-6 rounded-lg space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary",children:"Related Exeat Request"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:"Matric Number:"}),(0,r.jsx)("span",{className:"text-sm font-mono",children:x.data.exeat_request.matric_no})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:"Destination:"}),(0,r.jsx)("span",{className:"text-sm",children:x.data.exeat_request.destination})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:"Departure Date:"}),(0,r.jsx)("span",{className:"text-sm",children:new Date(x.data.exeat_request.departure_date).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:"Return Date:"}),(0,r.jsx)("span",{className:"text-sm",children:new Date(x.data.exeat_request.return_date).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:"Request Status:"}),(0,r.jsx)("span",{className:"text-sm capitalize",children:x.data.exeat_request.status})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-primary",children:"Medical:"}),(0,r.jsx)("span",{className:"text-sm",children:x.data.exeat_request.is_medical?"Yes":"No"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,r.jsx)(l.z,{asChild:!0,className:"flex-1",children:(0,r.jsxs)(m.default,{href:"/student/debts",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Back to Debts"]})}),(0,r.jsx)(l.z,{asChild:!0,variant:"outline",className:"flex-1",children:(0,r.jsx)(m.default,{href:"/student/dashboard",children:"Go to Dashboard"})})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"You can now proceed with your exeat request. If you have any questions, please contact the Student Affairs office."})})]})]})})}},65613:function(e,t,s){"use strict";s.d(t,{Cd:function(){return c},X:function(){return o},bZ:function(){return d}});var r=s(57437),n=s(2265),a=s(90535),i=s(94508);let l=(0,a.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,...a}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:n}),s),...a})});d.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...n})});c.displayName="AlertTitle";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...n})});o.displayName="AlertDescription"},62869:function(e,t,s){"use strict";s.d(t,{d:function(){return d},z:function(){return c}});var r=s(57437),n=s(2265),a=s(37053),i=s(90535),l=s(94508);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:c=!1,...o}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:n,size:i,className:s})),ref:t,...o})});c.displayName="Button"},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var r=s(57437),n=s(2265),a=s(94508);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},46144:function(e,t,s){"use strict";s.d(t,{h:function(){return d}});var r=s(79523),n=s(23557);let a=e=>e().auth.token,i=(0,r.ni)({baseUrl:"https://attendance.veritas.edu.ng/api",prepareHeaders:(e,t)=>{let{getState:s}=t,r=a(s);return r&&e.set("Authorization","Bearer ".concat(r)),e.set("Content-Type","application/json"),e.set("Accept","application/json"),e}}),l=async(e,t,s)=>{let r=await i(e,t,s);return r.error&&401===r.error.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),r},d=(0,n.LC)({reducerPath:"api",baseQuery:l,tagTypes:["Profile","ExeatCategories","ExeatRequests","ExeatRoles","Staff","ExeatRequests","DashboardStats","Admin","StudentDebts"],endpoints:()=>({})})},66163:function(e,t,s){"use strict";s.d(t,{Kp:function(){return l},N3:function(){return c},TK:function(){return d},h_:function(){return r},rm:function(){return o}});let{useGetStudentProfileQuery:r,useGetExeatCategoriesQuery:n,useCreateExeatRequestMutation:a,useGetExeatRequestsQuery:i,useGetStudentDebtsQuery:l,useInitializePaymentMutation:d,useVerifyPaymentQuery:c,useGetExeatCommentsQuery:o}=s(46144).h.injectEndpoints({endpoints:e=>({getStudentProfile:e.query({query:()=>"/me",transformResponse:e=>e.profile,providesTags:["Profile"]}),getExeatCategories:e.query({query:()=>"/student/exeat-categories",transformResponse:e=>e.data.categories,providesTags:["ExeatCategories"]}),createExeatRequest:e.mutation({query:e=>({url:"/student/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),getExeatRequests:e.query({query:()=>"/student/exeat-requests",transformResponse:e=>e.data.requests,providesTags:["ExeatRequests"]}),getStudentDebts:e.query({query:e=>({url:"/student/debts",params:e}),transformResponse:e=>e,providesTags:["StudentDebts"]}),initializePayment:e.mutation({query:e=>{let{id:t,data:s}=e;return{url:"/student/debts/".concat(t,"/payment-proof"),method:"POST",body:s}},transformResponse:e=>e,invalidatesTags:["StudentDebts"]}),verifyPayment:e.query({query:e=>{let{id:t,reference:s}=e;return{url:"/student/debts/".concat(t,"/verify-payment-api"),params:{reference:s}}},transformResponse:e=>e,providesTags:["StudentDebts"]}),getExeatComments:e.query({query:()=>"/student/exeat-requests/comments",transformResponse:e=>e,providesTags:["ExeatRequests"]})})})},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var r=s(61994),n=s(53335);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}},98575:function(e,t,s){"use strict";s.d(t,{F:function(){return a},e:function(){return i}});var r=s(2265);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let s=!1,r=e.map(e=>{let r=n(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():n(e[t],null)}}}}function i(...e){return r.useCallback(a(...e),e)}},37053:function(e,t,s){"use strict";s.d(t,{Z8:function(){return o},g7:function(){return u}});var r,n=s(2265),a=s(98575),i=s(57437),l=Symbol.for("react.lazy"),d=(r||(r=s.t(n,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function o(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:s,...r}=e;if(c(s)&&"function"==typeof d&&(s=d(s._payload)),n.isValidElement(s)){var i;let e,l;let d=(i=s,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),c=function(e,t){let s={...t};for(let r in t){let n=e[r],a=t[r];/^on[A-Z]/.test(r)?n&&a?s[r]=(...e)=>{let t=a(...e);return n(...e),t}:n&&(s[r]=n):"style"===r?s[r]={...n,...a}:"className"===r&&(s[r]=[n,a].filter(Boolean).join(" "))}return{...e,...s}}(r,s.props);return s.type!==n.Fragment&&(c.ref=t?(0,a.F)(t,d):d),n.cloneElement(s,c)}return n.Children.count(s)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=n.forwardRef((e,s)=>{let{children:r,...a}=e;c(r)&&"function"==typeof d&&(r=d(r._payload));let l=n.Children.toArray(r),o=l.find(f);if(o){let e=o.props.children,r=l.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:s,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,i.jsx)(t,{...a,ref:s,children:r})});return s.displayName=`${e}.Slot`,s}var u=o("Slot"),m=Symbol("radix.slottable");function f(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}},90535:function(e,t,s){"use strict";s.d(t,{j:function(){return i}});var r=s(61994);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=r.W,i=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return a(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:i,defaultVariants:l}=t,d=Object.keys(i).map(e=>{let t=null==s?void 0:s[e],r=null==l?void 0:l[e];if(null===t)return null;let a=n(t)||n(r);return i[e][a]}),c=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return a(e,d,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...n}=t;return Object.entries(n).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...l,...c}[t]):({...l,...c})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}},5485:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(96471).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5255:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(96471).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}},function(e){e.O(0,[2915,3557,3448,2971,2117,1744],function(){return e(e.s=30814)}),_N_E=e.O()}]);