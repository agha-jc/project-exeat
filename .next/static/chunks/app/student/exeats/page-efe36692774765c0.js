(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6547],{5932:function(e,t,r){Promise.resolve().then(r.bind(r,16120))},16120:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(57437),n=r(2265),s=r(66070),i=r(73578),l=r(95186),o=r(53647),d=r(62869),c=r(21378),u=r(27107),m=r(99376),p=r(39248),f=r(39180);let x=(0,r(96471).Z)("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);var h=r(16994),g=r(25361),v=r(28505),y=r(23818),j=r(87928),b=r(98012),N=r(13147),w=r(88880);let _=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"cmd_review",label:"CMD Review"},{value:"secretary_review",label:"Secretary Review"},{value:"parent_consent",label:"Parent Consent"},{value:"dean_review",label:"Dean/Deputy Dean Review"},{value:"hostel_signin",label:"Hostel Sign In"},{value:"hostel_signout",label:"Hostel Sign Out"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"completed",label:"Completed"}];function k(){let e=(0,m.useRouter)(),{user:t,isLoading:r}=(0,f.t)(),[k,R]=(0,n.useState)(""),[C,S]=(0,n.useState)("all"),[q,M]=(0,n.useState)("all"),[Z,A]=(0,n.useState)("date"),[P,D]=(0,n.useState)("desc"),[E,T]=(0,n.useState)(10),{data:L,isLoading:z,refetch:U}=(0,p.DC)(void 0,{skip:!t||r}),H=(null==L?void 0:L.exeat_requests)||[],{data:O}=(0,p.NL)(),I=(null==O?void 0:O.categories)||[],V=Object.fromEntries(I.map(e=>[e.id,e.name.charAt(0).toUpperCase()+e.name.slice(1)])),F=Object.fromEntries(I.map(e=>[e.id,"medical"===e.name.toLowerCase()?(0,a.jsx)(x,{className:"h-4 w-4"}):"family"===e.name.toLowerCase()?(0,a.jsx)(h.Z,{className:"h-4 w-4"}):"exigency"===e.name.toLowerCase()?(0,a.jsx)(g.Z,{className:"h-4 w-4"}):(0,a.jsx)(v.Z,{className:"h-4 w-4"})]));(0,n.useEffect)(()=>{t&&!r&&U()},[t,r,U]);let B=H.filter(e=>{let t=k.toLowerCase(),r=""===k||e.reason.toLowerCase().includes(t)||e.destination.toLowerCase().includes(t)||e.matric_no.toLowerCase().includes(t),a="all"===C||e.status===C,n="all"===q||e.category_id===Number(q);return r&&a&&n}),J=[...B].sort((e,t)=>{if("date"===Z){let r=new Date(e.created_at).getTime(),a=new Date(t.created_at).getTime();return"desc"===P?a-r:r-a}{let r=e=>["pending","cmd_review","secretary_review","parent_consent","dean_review","hostel_signin","hostel_signout","approved","rejected"].indexOf(e),a=r(e.status),n=r(t.status);return"desc"===P?n-a:a-n}}),Q=J.slice(0,E),Y=Q.length<J.length,W=()=>{T(e=>Math.min(e+10,J.length))},G=(e,t)=>{"search"===t?R(e):"status"===t?S(e):"category"===t&&M(e),T(10)};return(0,a.jsx)("div",{className:"space-y-4 md:space-y-6",children:(0,a.jsxs)(s.Zb,{className:"p-4 md:p-6",children:[(0,a.jsxs)(s.Ol,{className:"pb-4 md:pb-6",children:[(0,a.jsx)(s.ll,{className:"text-lg md:text-xl",children:"Exeat History"}),(0,a.jsx)(s.SZ,{className:"text-base",children:"View and manage all your exeat requests"})]}),(0,a.jsxs)(s.aY,{children:[(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(l.I,{placeholder:"Search by reason, destination...",value:k,onChange:e=>G(e.target.value,"search"),className:"pl-9 h-12 touch-manipulation"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(o.Ph,{value:q,onValueChange:e=>G(e,"category"),children:[(0,a.jsx)(o.i4,{className:"h-12 touch-manipulation",children:(0,a.jsx)(o.ki,{placeholder:"Category"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"all",children:"All Categories"}),I.map(e=>(0,a.jsx)(o.Ql,{value:e.id.toString(),children:e.name.charAt(0).toUpperCase()+e.name.slice(1)},e.id))]})]}),(0,a.jsxs)(o.Ph,{value:C,onValueChange:e=>G(e,"status"),children:[(0,a.jsx)(o.i4,{className:"h-12 touch-manipulation",children:(0,a.jsx)(o.ki,{placeholder:"Status"})}),(0,a.jsx)(o.Bw,{children:_.map(e=>(0,a.jsx)(o.Ql,{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)(o.Ph,{value:Z,onValueChange:e=>A(e),children:[(0,a.jsx)(o.i4,{className:"h-12 touch-manipulation",children:(0,a.jsx)(o.ki,{placeholder:"Sort by"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"date",children:"Date Created"}),(0,a.jsx)(o.Ql,{value:"status",children:"Status"})]})]}),(0,a.jsxs)(o.Ph,{value:P,onValueChange:e=>D(e),children:[(0,a.jsx)(o.i4,{className:"h-12 touch-manipulation",children:(0,a.jsx)(o.ki,{placeholder:"Order"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"desc",children:"Newest First"}),(0,a.jsx)(o.Ql,{value:"asc",children:"Oldest First"})]})]})]})]})}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Showing ",Q.length," of ",J.length," exeat requests",B.length!==H.length&&(0,a.jsxs)("span",{className:"ml-2",children:["(filtered from ",H.length," total)"]})]}),Y&&(0,a.jsxs)("span",{className:"text-primary font-medium",children:[J.length-Q.length," more available"]})]}),(0,a.jsx)("div",{className:"block lg:hidden space-y-4",children:r||z?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===Q.length?(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,a.jsx)("p",{children:"No exeat requests found"})}):(0,a.jsxs)(a.Fragment,{children:[Q.map(t=>(0,a.jsx)(s.Zb,{className:"p-4 cursor-pointer hover:shadow-md transition-all duration-200 touch-manipulation",onClick:()=>e.push("/student/exeats/".concat(t.id)),children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:t.category_id in F?F[t.category_id]:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),(0,a.jsx)(c.t,{status:t.status,size:"sm"})]})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t.reason}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:t.destination})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,a.jsxs)("span",{children:[(0,u.WU)(new Date(t.departure_date),"MMM d")," ","- ",(0,u.WU)(new Date(t.return_date),"MMM d")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,a.jsx)("span",{className:"capitalize",children:t.preferred_mode_of_contact})]})]})]})},t.id)),Y&&(0,a.jsx)("div",{className:"flex justify-center pt-4",children:(0,a.jsxs)(d.z,{variant:"outline",onClick:W,className:"w-full max-w-xs",children:["View More (",J.length-Q.length," remaining)"]})})]})}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(i.iA,{children:[(0,a.jsx)(i.xD,{className:"bg-muted/50",children:(0,a.jsxs)(i.SC,{children:[(0,a.jsx)(i.ss,{className:"w-[180px] min-w-[180px]",children:"Category"}),(0,a.jsx)(i.ss,{className:"min-w-[250px]",children:"Reason"}),(0,a.jsx)(i.ss,{className:"min-w-[150px]",children:"Destination"}),(0,a.jsx)(i.ss,{className:"min-w-[180px]",children:"Dates"}),(0,a.jsx)(i.ss,{className:"min-w-[120px]",children:"Contact"}),(0,a.jsx)(i.ss,{className:"min-w-[120px]",children:"Status"})]})}),(0,a.jsx)(i.RM,{children:r||z?(0,a.jsx)(i.SC,{children:(0,a.jsx)(i.pj,{colSpan:6,className:"text-center py-8",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):0===Q.length?(0,a.jsx)(i.SC,{children:(0,a.jsx)(i.pj,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No exeat requests found"})}):Q.map(t=>(0,a.jsxs)(i.SC,{className:"group cursor-pointer hover:bg-accent/50 touch-manipulation",onClick:()=>e.push("/student/exeats/".concat(t.id)),children:[(0,a.jsx)(i.pj,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-1.5 rounded-md bg-primary/5 group-hover:bg-primary/10",children:t.category_id in F?F[t.category_id]:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"font-medium text-sm",children:V[t.category_id]||"Unknown"})]})}),(0,a.jsx)(i.pj,{className:"py-4 max-w-[300px]",children:(0,a.jsx)("p",{className:"truncate text-sm",title:t.reason,children:t.reason})}),(0,a.jsx)(i.pj,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(b.Z,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate max-w-[150px] text-sm",title:t.destination,children:t.destination})]})}),(0,a.jsx)(i.pj,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(N.Z,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),(0,a.jsxs)("span",{className:"text-sm",children:[(0,u.WU)(new Date(t.departure_date),"MMM d")," ","- ",(0,u.WU)(new Date(t.return_date),"MMM d")]})]})}),(0,a.jsx)(i.pj,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(w.Z,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),(0,a.jsx)("span",{className:"capitalize text-sm",children:t.preferred_mode_of_contact})]})}),(0,a.jsx)(i.pj,{className:"py-4",children:(0,a.jsx)(c.t,{status:t.status,size:"sm"})})]},t.id))})]})}),Y&&(0,a.jsx)("div",{className:"flex justify-center p-4 border-t bg-muted/30",children:(0,a.jsxs)(d.z,{variant:"outline",onClick:W,className:"px-8",children:["View More (",J.length-Q.length," remaining)"]})})]})})]})]})]})})}},35974:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var a=r(57437);r(2265);var n=r(90535),s=r(94508);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...n})}},62869:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return d}});var a=r(57437),n=r(2265),s=r(37053),i=r(90535),l=r(94508);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:r})),ref:t,...c})});d.displayName="Button"},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var a=r(57437),n=r(2265),s=r(94508);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},95186:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(57437),n=r(2265),s=r(94508),i=r(26815);let l=n.forwardRef((e,t)=>{let{className:r,type:l,label:o,id:d,...c}=e,u=d||n.useId();return(0,a.jsxs)("div",{className:"space-y-1",children:[o&&(0,a.jsx)(i._,{htmlFor:u,children:o}),(0,a.jsx)("input",{id:u,type:l,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...c})]})});l.displayName="Input"},26815:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(57437),n=r(2265),s=r(370),i=r(90535),l=r(94508);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,l.cn)(o(),r),...n})});d.displayName=s.f.displayName},53647:function(e,t,r){"use strict";r.d(t,{Bw:function(){return x},Ph:function(){return c},Ql:function(){return h},i4:function(){return m},ki:function(){return u}});var a=r(57437),n=r(2265),s=r(74797),i=r(3289),l=r(47969),o=r(59559),d=r(94508);let c=s.fC;s.ZA;let u=s.B4,m=n.forwardRef((e,t)=>{let{className:r,children:n,...l}=e;return(0,a.jsxs)(s.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[n,(0,a.jsx)(s.JO,{asChild:!0,children:(0,a.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.xz.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=s.u_.displayName;let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...n,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=s.$G.displayName;let x=n.forwardRef((e,t)=>{let{className:r,children:n,position:i="popper",...l}=e;return(0,a.jsx)(s.h_,{children:(0,a.jsxs)(s.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...l,children:[(0,a.jsx)(p,{}),(0,a.jsx)(s.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(f,{})]})})});x.displayName=s.VY.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...n})}).displayName=s.__.displayName;let h=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,a.jsxs)(s.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(s.eT,{children:n})]})});h.displayName=s.ck.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...n})}).displayName=s.Z0.displayName},21378:function(e,t,r){"use strict";r.d(t,{t:function(){return l}});var a=r(57437);r(2265);var n=r(35974),s=r(42676),i=r(94508);let l=e=>{let{status:t,className:r,size:l="md"}=e;return(0,a.jsx)(n.C,{className:(0,i.cn)("whitespace-nowrap font-medium",{sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"}[l],(0,s.z2)(t),r),children:(0,s.li)(t)})}},73578:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return i},pj:function(){return u},ss:function(){return c},xD:function(){return l}});var a=r(57437),n=r(2265),s=r(94508);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",r),...n})})});i.displayName="Table";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",r),...n})});l.displayName="TableHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",r),...n})});o.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});d.displayName="TableRow";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});c.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"},39180:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var a=r(68575),n=r(61796);function s(){let e=(0,a.v9)(n.HF);return{user:e,isLoading:(0,a.v9)(n.xU),fullName:e?"".concat(e.fname," ").concat(e.lname):"",initials:e?"".concat(e.fname[0]).concat(e.lname[0]).toUpperCase():"",avatarUrl:(null==e?void 0:e.passport)?"data:image/jpeg;base64,".concat(e.passport):void 0}}},46144:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var a=r(79523),n=r(23557);let s=e=>e().auth.token,i=(0,a.ni)({baseUrl:"https://attendance.veritas.edu.ng/api",prepareHeaders:(e,t)=>{let{getState:r}=t,a=s(r);return a&&e.set("Authorization","Bearer ".concat(a)),e.set("Content-Type","application/json"),e.set("Accept","application/json"),e}}),l=async(e,t,r)=>{let a=await i(e,t,r);return a.error&&401===a.error.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),a},o=(0,n.LC)({reducerPath:"api",baseQuery:l,tagTypes:["Profile","ExeatCategories","ExeatRequests","ExeatRoles","Staff","ExeatRequests","DashboardStats","Admin","StudentDebts"],endpoints:()=>({})})},16262:function(e,t,r){"use strict";r.d(t,{Mx:function(){return i},YA:function(){return n},_y:function(){return s},iJ:function(){return a}});let a=r(46144).h.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"/login",method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"/logout",method:"POST"})}),getProfile:e.query({query:()=>"/me",providesTags:["Profile"]})})}),{useLoginMutation:n,useLogoutMutation:s,useGetProfileQuery:i}=a},61796:function(e,t,r){"use strict";r.d(t,{Dj:function(){return m},HF:function(){return p},kS:function(){return u},vN:function(){return f},xU:function(){return x}});var a=r(39129),n=r(16262);let s=e=>{try{return localStorage.getItem(e)}catch(e){return null}},i=()=>{let e=s("user");try{let t=e?JSON.parse(e):null;if(t&&t.exeat_roles&&!t.roles){let e=t.exeat_roles.map(e=>{var t;return(null==e?void 0:null===(t=e.role)||void 0===t?void 0:t.name)?e.role.name:(null==e?void 0:e.name)?e.name:(null==e?void 0:e.display_name)?e.display_name:"string"==typeof e?e:"Unknown Role"});t.roles=e}return t}catch(e){return null}},l={user:i(),token:s("token"),isAuthenticated:!!(s("token")&&i()),isLoading:!1},o=(0,a.oM)({name:"auth",initialState:l,reducers:{startLoading:e=>{e.isLoading=!0},stopLoading:e=>{e.isLoading=!1},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token"),localStorage.removeItem("user")},setCredentials:(e,t)=>{let{user:r,role:a,token:n}=t.payload,s=(null==r?void 0:r.exeat_roles)||t.payload.roles,i=Array.isArray(s)?s.map(e=>{var t;return(null==e?void 0:null===(t=e.role)||void 0===t?void 0:t.name)?e.role.name:(null==e?void 0:e.name)?e.name:(null==e?void 0:e.display_name)?e.display_name:"string"==typeof e?e:"Unknown Role"}):[],l={...r,role:a,roles:i};e.user=l,e.token=n,e.isAuthenticated=!0,localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(l))}},extraReducers:e=>{e.addMatcher(n.iJ.endpoints.login.matchPending,e=>{e.isLoading=!0}).addMatcher(n.iJ.endpoints.login.matchFulfilled,(e,t)=>{var r;let{payload:a}=t,n=(null===(r=a.user)||void 0===r?void 0:r.exeat_roles)||a.roles,s=Array.isArray(n)?n.map(e=>{var t;return(null==e?void 0:null===(t=e.role)||void 0===t?void 0:t.name)?e.role.name:(null==e?void 0:e.name)?e.name:(null==e?void 0:e.display_name)?e.display_name:"string"==typeof e?e:"Unknown Role"}):[],i={...a.user,role:a.role,roles:s};e.user=i,e.token=a.token,e.isAuthenticated=!0,e.isLoading=!1,localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(i))}).addMatcher(n.iJ.endpoints.login.matchRejected,e=>{e.isLoading=!1})}}),{startLoading:d,stopLoading:c,logout:u,setCredentials:m}=o.actions;t.ZP=o.reducer;let p=e=>e.auth.user,f=e=>e.auth.isAuthenticated,x=e=>e.auth.isLoading},39248:function(e,t,r){"use strict";r.d(t,{DC:function(){return i},NL:function(){return a},Ve:function(){return o},Y2:function(){return s},c4:function(){return l}});let{useGetCategoriesQuery:a,useGetStudentProfileFromExeatQuery:n,useCreateExeatRequestMutation:s,useGetExeatRequestsQuery:i,useGetExeatRequestDetailsQuery:l,useGetExeatRequestHistoryQuery:o}=r(46144).h.injectEndpoints({endpoints:e=>({getExeatRequests:e.query({query:()=>"/student/exeat-requests",providesTags:["ExeatRequests"]}),getCategories:e.query({query:()=>"/student/exeat-categories",transformResponse:e=>e}),getStudentProfileFromExeat:e.query({query:()=>"/me",transformResponse:e=>{var t;if(!e.success||!(null===(t=e.data)||void 0===t?void 0:t.profile))throw Error("Failed to load profile data");return e.data}}),createExeatRequest:e.mutation({query:e=>({url:"/student/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),getExeatRequestHistory:e.query({query:e=>"/student/exeat-requests/".concat(e,"/history"),providesTags:["ExeatRequests"]}),getExeatRequestDetails:e.query({query:e=>"/student/exeat-requests/".concat(e),providesTags:["ExeatRequests"]})})})},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(61994),n=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},42676:function(e,t,r){"use strict";r.d(t,{li:function(){return n},nd:function(){return s},z2:function(){return a}});let a=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-200";case"completed":return"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200";case"rejected":return"bg-red-100 text-red-800 border-red-200 hover:bg-red-200";case"cmd_review":case"secretary_review":case"dean_review":return"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200";case"parent_consent":return"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200";case"hostel_signin":case"hostel_signout":return"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200";case"recommendation1":case"recommendation2":case"dean_approval":case"hostel_approval":return"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200"}},n=e=>{switch(e){case"pending":return"Awaiting Initial Review";case"cmd_review":return"Medical Director Review";case"secretary_review":return"Secretary Review";case"parent_consent":return"Awaiting Parent Approval";case"dean_review":return"Dean/Deputy Dean Review";case"hostel_signin":return"Ready for Hostel Sign-In";case"hostel_signout":return"Ready for Hostel Sign-Out";case"security_signin":return"Student Away - Awaiting Return";case"security_signout":return"Ready for Security Sign-Out";case"recommendation1":return"Under Initial Review";case"recommendation2":return"Under Final Review";case"dean_approval":return"Awaiting Dean Approval";case"hostel_approval":return"Hostel Processing";case"approved":return"Request Approved";case"rejected":return"Request Not Approved";case"completed":return"Request Completed";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},s=e=>{let t=["reason","destination","departure_date","return_date","comment"];return["admin","dean"].includes(e)?[...t,"parent_surname","parent_othernames","parent_phone_no","parent_phone_no_two","parent_email","preferred_mode_of_contact","category_id","is_medical"]:t}},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},28505:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},13147:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},25361:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},87928:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},98012:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},88880:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},23818:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},16994:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(96471).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[2915,3557,9946,5844,9049,2061,9923,7873,2971,2117,1744],function(){return e(e.s=5932)}),_N_E=e.O()}]);