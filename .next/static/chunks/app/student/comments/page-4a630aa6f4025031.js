(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4536],{64572:function(e,t,r){Promise.resolve().then(r.bind(r,11230))},11230:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(57437),s=r(66163),a=r(66070),o=r(35974),i=r(93022),l=r(65613),u=r(25361),d=r(19965),c=r(42676);function m(){let{data:e,isLoading:t,error:r}=(0,s.rm)();if(t)return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(i.O,{className:"h-8 w-64 mb-2"}),(0,n.jsx)(i.O,{className:"h-4 w-96"})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(i.O,{className:"h-6 w-48"})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>(0,n.jsx)(i.O,{className:"h-24 w-full"},t))})})]})]});if(r)return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Messages from Staff"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"View comments and messages sent to you by staff members"})]}),(0,n.jsxs)(l.bZ,{variant:"destructive",children:[(0,n.jsx)(u.Z,{className:"h-4 w-4"}),(0,n.jsx)(l.X,{children:"Failed to load comments. Please try again later."})]})]});let m=(null==e?void 0:e.comments)||[];return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Messages from Staff"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"Comments and messages sent to you by staff members regarding your exeat requests"})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(d.Z,{className:"h-5 w-5"}),"Staff Messages"]}),(0,n.jsx)(a.SZ,{children:0===m.length?"No messages from staff yet":"".concat(m.length," message").concat(1!==m.length?"s":""," from staff")})]}),(0,n.jsx)(a.aY,{children:0===m.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(d.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,n.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Messages"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"You don't have any messages from staff members yet. Messages will appear here when staff members send you comments about your exeat requests."})]}):(0,n.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,n.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[(0,n.jsx)("div",{className:"flex items-start justify-between gap-4 mb-3",children:(0,n.jsx)(o.C,{variant:"outline",className:"capitalize",children:(0,c.li)(e.status)})}),(0,n.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",children:e.raw_comment})]},t))})})]})]})}},65613:function(e,t,r){"use strict";r.d(t,{Cd:function(){return u},X:function(){return d},bZ:function(){return l}});var n=r(57437),s=r(2265),a=r(90535),o=r(94508);let i=(0,a.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,...a}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,o.cn)(i({variant:s}),r),...a})});l.displayName="Alert";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h5",{ref:t,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});u.displayName="AlertTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",r),...s})});d.displayName="AlertDescription"},35974:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(57437);r(2265);var s=r(90535),a=r(94508);let o=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(o({variant:r}),t),...s})}},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return u},Zb:function(){return o},aY:function(){return d},ll:function(){return l}});var n=r(57437),s=r(2265),a=r(94508);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});o.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});u.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},93022:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var n=r(57437),s=r(94508);function a(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...r})}},46144:function(e,t,r){"use strict";r.d(t,{h:function(){return l}});var n=r(79523),s=r(23557);let a=e=>e().auth.token,o=(0,n.ni)({baseUrl:"https://attendance.veritas.edu.ng/api",prepareHeaders:(e,t)=>{let{getState:r}=t,n=a(r);return n&&e.set("Authorization","Bearer ".concat(n)),e.set("Content-Type","application/json"),e.set("Accept","application/json"),e}}),i=async(e,t,r)=>{let n=await o(e,t,r);return n.error&&401===n.error.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),n},l=(0,s.LC)({reducerPath:"api",baseQuery:i,tagTypes:["Profile","ExeatCategories","ExeatRequests","ExeatRoles","Staff","ExeatRequests","DashboardStats","Admin","StudentDebts"],endpoints:()=>({})})},66163:function(e,t,r){"use strict";r.d(t,{Kp:function(){return i},N3:function(){return u},TK:function(){return l},h_:function(){return n},rm:function(){return d}});let{useGetStudentProfileQuery:n,useGetExeatCategoriesQuery:s,useCreateExeatRequestMutation:a,useGetExeatRequestsQuery:o,useGetStudentDebtsQuery:i,useInitializePaymentMutation:l,useVerifyPaymentQuery:u,useGetExeatCommentsQuery:d}=r(46144).h.injectEndpoints({endpoints:e=>({getStudentProfile:e.query({query:()=>"/me",transformResponse:e=>e.profile,providesTags:["Profile"]}),getExeatCategories:e.query({query:()=>"/student/exeat-categories",transformResponse:e=>e.data.categories,providesTags:["ExeatCategories"]}),createExeatRequest:e.mutation({query:e=>({url:"/student/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),getExeatRequests:e.query({query:()=>"/student/exeat-requests",transformResponse:e=>e.data.requests,providesTags:["ExeatRequests"]}),getStudentDebts:e.query({query:e=>({url:"/student/debts",params:e}),transformResponse:e=>e,providesTags:["StudentDebts"]}),initializePayment:e.mutation({query:e=>{let{id:t,data:r}=e;return{url:"/student/debts/".concat(t,"/payment-proof"),method:"POST",body:r}},transformResponse:e=>e,invalidatesTags:["StudentDebts"]}),verifyPayment:e.query({query:e=>{let{id:t,reference:r}=e;return{url:"/student/debts/".concat(t,"/verify-payment-api"),params:{reference:r}}},transformResponse:e=>e,providesTags:["StudentDebts"]}),getExeatComments:e.query({query:()=>"/student/exeat-requests/comments",transformResponse:e=>e,providesTags:["ExeatRequests"]})})})},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(61994),s=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},42676:function(e,t,r){"use strict";r.d(t,{li:function(){return s},nd:function(){return a},z2:function(){return n}});let n=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-200";case"completed":return"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200";case"rejected":return"bg-red-100 text-red-800 border-red-200 hover:bg-red-200";case"cmd_review":case"secretary_review":case"dean_review":return"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200";case"parent_consent":return"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200";case"hostel_signin":case"hostel_signout":return"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200";case"recommendation1":case"recommendation2":case"dean_approval":case"hostel_approval":return"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200"}},s=e=>{switch(e){case"pending":return"Awaiting Initial Review";case"cmd_review":return"Medical Director Review";case"secretary_review":return"Secretary Review";case"parent_consent":return"Awaiting Parent Approval";case"dean_review":return"Dean/Deputy Dean Review";case"hostel_signin":return"Ready for Hostel Sign-In";case"hostel_signout":return"Ready for Hostel Sign-Out";case"security_signin":return"Student Away - Awaiting Return";case"security_signout":return"Ready for Security Sign-Out";case"recommendation1":return"Under Initial Review";case"recommendation2":return"Under Final Review";case"dean_approval":return"Awaiting Dean Approval";case"hostel_approval":return"Hostel Processing";case"approved":return"Request Approved";case"rejected":return"Request Not Approved";case"completed":return"Request Completed";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},a=e=>{let t=["reason","destination","departure_date","return_date","comment"];return["admin","dean"].includes(e)?[...t,"parent_surname","parent_othernames","parent_phone_no","parent_phone_no_two","parent_email","preferred_mode_of_contact","category_id","is_medical"]:t}},90535:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var n=r(61994);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=n.W,o=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:i}=t,l=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],n=null==i?void 0:i[e];if(null===t)return null;let a=s(t)||s(n);return o[e][a]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return a(e,l,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...u}[t]):({...i,...u})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},25361:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(96471).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},19965:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(96471).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])}},function(e){e.O(0,[2915,3557,2971,2117,1744],function(){return e(e.s=64572)}),_N_E=e.O()}]);