(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9208],{42221:function(e,s,t){Promise.resolve().then(t.bind(t,81310))},81310:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var a=t(57437),r=t(99376),n=t(34324),l=t(66070),i=t(62869),d=t(35974),c=t(26815),o=t(12032),u=t(5485),m=t(98012),x=t(81475),f=t(13147),h=t(67350),p=t(87928),g=t(16049),j=t(24287),N=t(27107),v=t(16831),y=t(93022),b=t(28233);function w(){var e,s,t,w,q;let _,R;let E=(0,r.useRouter)(),k=parseInt((0,r.useParams)().id),{data:O,isLoading:C,error:D}=(0,b.oZ)(k,{skip:!k||isNaN(k)}),P=null==O?void 0:O.exeat_request,S=(null==P?void 0:null===(e=P.student)||void 0===e?void 0:e.passport)?"data:image/jpeg;base64,".concat(P.student.passport):"";if(C)return(0,a.jsx)(()=>(0,a.jsx)(n.i,{requiredRole:"staff",children:(0,a.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8 h-full min-h-screen",children:[(0,a.jsxs)("div",{className:"mb-8 pt-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(y.O,{className:"h-10 w-32"})})}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(y.O,{className:"h-16 w-16 rounded-full"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.O,{className:"h-9 w-64"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(y.O,{className:"h-8 w-20"})})]})]}),(0,a.jsx)(y.O,{className:"h-5 w-96"})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l.Zb,{className:"bg-white/95 backdrop-blur-sm border-slate-200 shadow-sm",children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.O,{className:"h-4 w-16"}),(0,a.jsx)(y.O,{className:"h-6 w-24"})]},s))})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"flex items-center gap-2",children:(0,a.jsx)(y.O,{className:"h-6 w-40"})})}),(0,a.jsx)(l.aY,{className:"space-y-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(y.O,{className:"h-4 w-20"}),(0,a.jsx)(y.O,{className:"h-5 w-32"})]},s))})})]}),(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"flex items-center gap-2",children:(0,a.jsx)(y.O,{className:"h-6 w-36"})})}),(0,a.jsx)(l.aY,{className:"space-y-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(6)].map((e,s)=>(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(y.O,{className:"h-4 w-24"}),(0,a.jsx)(y.O,{className:"h-5 w-28"})]},s))})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-center",children:(0,a.jsx)(y.O,{className:"h-6 w-28 mx-auto"})})}),(0,a.jsx)(l.aY,{className:"flex justify-center",children:(0,a.jsx)(y.O,{className:"h-48 w-48 rounded-full"})})]}),(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-lg",children:(0,a.jsx)(y.O,{className:"h-6 w-32"})})}),(0,a.jsx)(l.aY,{className:"space-y-4",children:(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(y.O,{className:"h-4 w-16"}),(0,a.jsx)(y.O,{className:"h-4 w-24"})]},s))})})]})]})]})]})}),{});if(D||!P){let e=D?(console.log("API Error:",D),null==D?void 0:null===(s=D.data)||void 0===s?void 0:s.message)?D.data.message:(null==D?void 0:D.message)?D.message:(null==D?void 0:D.error)?D.error:"string"==typeof D?D:"An unexpected error occurred while loading the request.":null;return(0,a.jsx)(n.i,{requiredRole:"staff",children:(0,a.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8 h-full min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/30",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 mx-auto text-red-500"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-red-200 animate-pulse"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-800",children:D?"Access Denied":"Request Not Found"}),(0,a.jsx)("p",{className:"text-slate-600 max-w-md",children:e||"Unable to load the completed exeat request details."})]}),(0,a.jsxs)(i.z,{variant:"outline",className:"mt-4 hover:bg-slate-100 transition-colors",onClick:()=>E.push("/staff/history"),children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Back to History"]})]})})})})}let T=Math.ceil((new Date(P.return_date).getTime()-new Date(P.departure_date).getTime())/864e5);return(0,a.jsx)(n.i,{requiredRole:"staff",children:(0,a.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8 h-full min-h-screen",children:[(0,a.jsxs)("div",{className:"mb-8 pt-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>E.push("/staff/history"),className:"border-slate-300 hover:bg-slate-100 transition-all duration-200 hover:scale-105",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Back to History"]})})}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"text-4xl",children:P.is_medical||1===P.category_id?"\uD83C\uDFE5":2===P.category_id||(null===(t=P.category)||void 0===t?void 0:t.name)==="casual"?"\uD83C\uDF34":3===P.category_id?"\uD83D\uDEA8":4===P.category_id?"\uD83D\uDCBC":"\uD83D\uDCCB"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Completed Exeat Request"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,a.jsx)(d.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:P.status}),(0,a.jsx)(d.C,{variant:"outline",className:"text-sm",children:P.is_medical||1===P.category_id?"Medical":2===P.category_id||(null===(w=P.category)||void 0===w?void 0:w.name)==="casual"?"Casual":3===P.category_id?"Emergency":4===P.category_id?"Official":(null===(q=P.category)||void 0===q?void 0:q.name)||"General"}),P.is_expired&&(0,a.jsx)(d.C,{variant:"outline",className:"text-xs border-orange-300 text-orange-700",children:"Expired"})]})]})]}),(0,a.jsxs)("p",{className:"text-slate-600 mt-2",children:["View details for completed exeat request from ",P.student.fname," ",P.student.lname]})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l.Zb,{className:"bg-white/95 backdrop-blur-sm border-slate-200 shadow-sm",children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Reason"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium text-lg",children:P.reason})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Destination"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium text-lg",children:P.destination})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Duration"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsxs)("p",{className:"text-slate-800 font-medium text-lg",children:[T," day",1!==T?"s":""]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Dates"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsxs)("p",{className:"text-slate-800 font-medium text-sm",children:[(0,N.WU)(new Date(P.departure_date),"MMM d")," - ",(0,N.WU)(new Date(P.return_date),"MMM d, yyyy")]})]})]})]})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm hover:shadow-md transition-all duration-200",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2 text-slate-800",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-blue-600"}),"Student Information"]})}),(0,a.jsx)(l.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Full Name"}),(0,a.jsxs)("p",{className:"text-slate-800 font-medium",children:[P.student.fname," ",P.student.lname]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Matric Number"}),(0,a.jsx)("p",{className:"text-slate-800 font-mono font-medium",children:P.matric_no})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Student ID"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium",children:P.student_id})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Email"}),(0,a.jsx)("p",{className:"text-slate-800",children:P.student.email||"Not provided"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Accommodation"}),(0,a.jsx)("p",{className:"text-slate-800",children:P.student_accommodation||"Not specified"})]})]})})]}),(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm hover:shadow-md transition-all duration-200",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2 text-slate-800",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),"Request Details"]})}),(0,a.jsx)(l.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Reason"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium",children:P.reason})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Destination"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium",children:P.destination})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Departure Date"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium",children:(0,N.WU)(new Date(P.departure_date),"PPP")})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Return Date"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium",children:(0,N.WU)(new Date(P.return_date),"PPP")})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Duration"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 text-slate-400"}),(0,a.jsxs)("p",{className:"text-slate-800 font-medium",children:[T," day",1!==T?"s":""]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Preferred Parent Contact Method"}),(0,a.jsx)("p",{className:"text-slate-800",children:P.preferred_mode_of_contact})]})]})})]}),(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm hover:shadow-md transition-all duration-200",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center gap-2 text-slate-800",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-blue-600"}),"Parent/Guardian Information"]})}),(0,a.jsx)(l.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Parent Name"}),(0,a.jsxs)("p",{className:"text-slate-800 font-medium",children:[P.parent_surname," ",P.parent_othernames]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Primary Phone"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium",children:P.parent_phone_no})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Secondary Phone"}),(0,a.jsx)("p",{className:"text-slate-800",children:P.parent_phone_no_two||"Not provided"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(c._,{className:"text-sm font-medium text-slate-600",children:"Email"}),(0,a.jsx)("p",{className:"text-slate-800",children:P.parent_email})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm hover:shadow-md transition-all duration-200",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-center text-slate-800",children:"Student Photo"})}),(0,a.jsx)(l.aY,{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)(v.qE,{className:"size-48 border-4 border-slate-200 group-hover:border-blue-300 transition-all duration-300",children:[(0,a.jsx)(v.F$,{src:S,alt:"".concat(P.student.fname," ").concat(P.student.lname),className:"object-cover"}),(0,a.jsx)(v.Q5,{className:"bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600 text-4xl font-bold",children:(_=P.student.fname,R=P.student.lname,"".concat((_||"").charAt(0)).concat((R||"").charAt(0)).toUpperCase())})]}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent group-hover:border-blue-200/50 transition-all duration-300"})]})})]}),(0,a.jsxs)(l.Zb,{className:"bg-white/90 backdrop-blur-sm border-slate-200 shadow-sm hover:shadow-md transition-all duration-200",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-lg text-slate-800",children:"Request Timeline"})}),(0,a.jsx)(l.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"Created:"}),(0,a.jsx)("span",{className:"text-sm text-slate-800 font-medium",children:(0,N.WU)(new Date(P.created_at),"PPp")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"Completed:"}),(0,a.jsx)("span",{className:"text-sm text-slate-800 font-medium",children:(0,N.WU)(new Date(P.updated_at),"PPp")})]}),P.is_expired&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200",children:[(0,a.jsx)("span",{className:"text-sm text-orange-700",children:"Expired:"}),(0,a.jsx)("span",{className:"text-sm text-orange-800 font-medium",children:P.expired_at?(0,N.WU)(new Date(P.expired_at),"PPp"):"Unknown"})]})]})})]}),(0,a.jsx)(l.Zb,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 shadow-lg",children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(j.Z,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-800",children:"Request Completed"}),(0,a.jsx)("p",{className:"text-sm text-green-700 mt-1",children:"This exeat request has been successfully processed"})]})]})})})]})]})]})})}},34324:function(e,s,t){"use strict";t.d(s,{i:function(){return d}});var a=t(57437),r=t(2265),n=t(99376),l=t(68575),i=t(61796);function d(e){let{children:s,requiredRole:t}=e,d=(0,n.useRouter)(),c=(0,l.v9)(i.HF),o=(0,l.v9)(i.vN);return((0,r.useEffect)(()=>{if(!o){d.push("/login");return}if(t&&(null==c?void 0:c.role)){let e=c.role.toLowerCase(),s=t.toLowerCase(),a="student"===e?"student":"staff";a!==("student"===s?"student":"staff")&&d.push("student"===a?"/student/dashboard":"/staff/dashboard")}},[o,c,t,d]),!o||t&&(null==c?void 0:c.role)&&("student"===c.role.toLowerCase()?"student":"staff")!=("student"===t.toLowerCase()?"student":"staff"))?null:(0,a.jsx)(a.Fragment,{children:s})}},16831:function(e,s,t){"use strict";t.d(s,{F$:function(){return d},Q5:function(){return c},qE:function(){return i}});var a=t(57437),r=t(2265),n=t(27954),l=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.fC,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});i.displayName=n.fC.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Ee,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",t),...r})});d.displayName=n.Ee.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.NY,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});c.displayName=n.NY.displayName},35974:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var a=t(57437);t(2265);var r=t(90535),n=t(94508);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...r})}},62869:function(e,s,t){"use strict";t.d(s,{d:function(){return d},z:function(){return c}});var a=t(57437),r=t(2265),n=t(37053),l=t(90535),i=t(94508);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:c=!1,...o}=e,u=c?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:r,size:l,className:t})),ref:s,...o})});c.displayName="Button"},66070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return o},ll:function(){return d}});var a=t(57437),r=t(2265),n=t(94508);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},26815:function(e,s,t){"use strict";t.d(s,{_:function(){return c}});var a=t(57437),r=t(2265),n=t(370),l=t(90535),i=t(94508);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.f,{ref:s,className:(0,i.cn)(d(),t),...r})});c.displayName=n.f.displayName},93022:function(e,s,t){"use strict";t.d(s,{O:function(){return n}});var a=t(57437),r=t(94508);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...t})}},46144:function(e,s,t){"use strict";t.d(s,{h:function(){return d}});var a=t(79523),r=t(23557);let n=e=>e().auth.token,l=(0,a.ni)({baseUrl:"https://attendance.veritas.edu.ng/api",prepareHeaders:(e,s)=>{let{getState:t}=s,a=n(t);return a&&e.set("Authorization","Bearer ".concat(a)),e.set("Content-Type","application/json"),e.set("Accept","application/json"),e}}),i=async(e,s,t)=>{let a=await l(e,s,t);return a.error&&401===a.error.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),a},d=(0,r.LC)({reducerPath:"api",baseQuery:i,tagTypes:["Profile","ExeatCategories","ExeatRequests","ExeatRoles","Staff","ExeatRequests","DashboardStats","Admin","StudentDebts"],endpoints:()=>({})})},16262:function(e,s,t){"use strict";t.d(s,{Mx:function(){return l},YA:function(){return r},_y:function(){return n},iJ:function(){return a}});let a=t(46144).h.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"/login",method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"/logout",method:"POST"})}),getProfile:e.query({query:()=>"/me",providesTags:["Profile"]})})}),{useLoginMutation:r,useLogoutMutation:n,useGetProfileQuery:l}=a},61796:function(e,s,t){"use strict";t.d(s,{Dj:function(){return m},HF:function(){return x},kS:function(){return u},vN:function(){return f},xU:function(){return h}});var a=t(39129),r=t(16262);let n=e=>{try{return localStorage.getItem(e)}catch(e){return null}},l=()=>{let e=n("user");try{let s=e?JSON.parse(e):null;if(s&&s.exeat_roles&&!s.roles){let e=s.exeat_roles.map(e=>{var s;return(null==e?void 0:null===(s=e.role)||void 0===s?void 0:s.name)?e.role.name:(null==e?void 0:e.name)?e.name:(null==e?void 0:e.display_name)?e.display_name:"string"==typeof e?e:"Unknown Role"});s.roles=e}return s}catch(e){return null}},i={user:l(),token:n("token"),isAuthenticated:!!(n("token")&&l()),isLoading:!1},d=(0,a.oM)({name:"auth",initialState:i,reducers:{startLoading:e=>{e.isLoading=!0},stopLoading:e=>{e.isLoading=!1},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token"),localStorage.removeItem("user")},setCredentials:(e,s)=>{let{user:t,role:a,token:r}=s.payload,n=(null==t?void 0:t.exeat_roles)||s.payload.roles,l=Array.isArray(n)?n.map(e=>{var s;return(null==e?void 0:null===(s=e.role)||void 0===s?void 0:s.name)?e.role.name:(null==e?void 0:e.name)?e.name:(null==e?void 0:e.display_name)?e.display_name:"string"==typeof e?e:"Unknown Role"}):[],i={...t,role:a,roles:l};e.user=i,e.token=r,e.isAuthenticated=!0,localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(i))}},extraReducers:e=>{e.addMatcher(r.iJ.endpoints.login.matchPending,e=>{e.isLoading=!0}).addMatcher(r.iJ.endpoints.login.matchFulfilled,(e,s)=>{var t;let{payload:a}=s,r=(null===(t=a.user)||void 0===t?void 0:t.exeat_roles)||a.roles,n=Array.isArray(r)?r.map(e=>{var s;return(null==e?void 0:null===(s=e.role)||void 0===s?void 0:s.name)?e.role.name:(null==e?void 0:e.name)?e.name:(null==e?void 0:e.display_name)?e.display_name:"string"==typeof e?e:"Unknown Role"}):[],l={...a.user,role:a.role,roles:n};e.user=l,e.token=a.token,e.isAuthenticated=!0,e.isLoading=!1,localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(l))}).addMatcher(r.iJ.endpoints.login.matchRejected,e=>{e.isLoading=!1})}}),{startLoading:c,stopLoading:o,logout:u,setCredentials:m}=d.actions;s.ZP=d.reducer;let x=e=>e.auth.user,f=e=>e.auth.isAuthenticated,h=e=>e.auth.isLoading},28233:function(e,s,t){"use strict";t.d(s,{CD:function(){return v},Og:function(){return o},RX:function(){return h},Rk:function(){return i},Sr:function(){return r},Tq:function(){return u},Vm:function(){return d},b:function(){return a},cu:function(){return n},js:function(){return p},mM:function(){return N},oZ:function(){return f},s$:function(){return m},ui:function(){return j},vN:function(){return l},w9:function(){return x},xA:function(){return y},yH:function(){return c}});let{useGetStaffProfileQuery:a,useGetAllExeatRequestsQuery:r,useGetExeatRequestsByStatusQuery:n,useGetExeatRequestByIdQuery:l,useGetExeatRequestsByStudentIdQuery:i,useApproveExeatRequestMutation:d,useRejectExeatRequestMutation:c,useSignStudentOutMutation:o,useSignStudentInMutation:u,useGetExeatStatisticsQuery:m,useGetCompletedExeatRequestsQuery:x,useGetCompletedExeatRequestDetailsQuery:f,useGetRejectedExeatRequestsQuery:h,useGetRejectedExeatRequestDetailsQuery:p,useGetStaffDashboardStatsQuery:g,useSendCommentMutation:j,useEditExeatRequestMutation:N,useDeanApplyExeatRequestMutation:v,useDeanBulkApproveExeatsMutation:y}=t(46144).h.injectEndpoints({endpoints:e=>({getStaffProfile:e.query({query:()=>"/me",transformResponse:e=>e.user,providesTags:["Profile"]}),getAllExeatRequests:e.query({query:()=>"/staff/exeat-requests",transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestsByStudentId:e.query({query:e=>({url:"/staff/exeat-requests",params:{student_id:e}}),transformResponse:e=>{var s;return Array.isArray(e)?e:"exeat_requests"in e?e.exeat_requests:(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.exeat_requests)?e.data.exeat_requests:[]},providesTags:["ExeatRequests"]}),getExeatRequestsByStatus:e.query({query:e=>"/staff/exeat-requests?status=".concat(e),transformResponse:e=>e.exeat_requests,providesTags:["ExeatRequests"]}),getExeatRequestById:e.query({query:e=>"/staff/exeat-requests/".concat(e),transformResponse:e=>{if((null==e?void 0:e.message)&&e.message.includes("permission"))throw Error(e.message);if(null==e?void 0:e.exeat_request)return e.exeat_request;throw Error("Invalid response format from server")},providesTags:(e,s,t)=>[{type:"ExeatRequests",id:t}]}),approveExeatRequest:e.mutation({query:e=>{let{exeat_request_id:s,comment:t}=e;return{url:"/staff/exeat-requests/".concat(s,"/approve"),method:"POST",body:{comment:t}}},invalidatesTags:["ExeatRequests"]}),rejectExeatRequest:e.mutation({query:e=>{let{exeat_request_id:s,comment:t}=e;return{url:"/staff/exeat-requests/".concat(s,"/reject"),method:"POST",body:{comment:t}}},invalidatesTags:["ExeatRequests"]}),signStudentOut:e.mutation({query:e=>{let{exeat_request_id:s,comment:t}=e;return{url:"/staff/exeat-requests/".concat(s,"/sign-out"),method:"POST",body:{comment:t}}},invalidatesTags:["ExeatRequests"]}),signStudentIn:e.mutation({query:e=>{let{exeat_request_id:s,comment:t}=e;return{url:"/staff/exeat-requests/".concat(s,"/sign-in"),method:"POST",body:{comment:t}}},invalidatesTags:["ExeatRequests"]}),getExeatStatistics:e.query({query:()=>"/staff/exeat-statistics",transformResponse:e=>e.data,providesTags:["Staff"]}),getCompletedExeatRequests:e.query({query:function(){let{page:e=1,per_page:s=50}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:"/exeats/by-status/completed",params:{page:e,per_page:s}}},transformResponse:e=>e,providesTags:["ExeatRequests"]}),getCompletedExeatRequestDetails:e.query({query:e=>"/exeats/by-status/completed/".concat(e),transformResponse:e=>e,providesTags:["ExeatRequests"]}),getStaffDashboardStats:e.query({query:()=>"/staff/dashboard",transformResponse:e=>e,providesTags:["DashboardStats"]}),getRejectedExeatRequests:e.query({query:function(){let{page:e=1,per_page:s=50}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:"/exeats/by-status/rejected",params:{page:e,per_page:s}}},transformResponse:e=>e,providesTags:["ExeatRequests"]}),getRejectedExeatRequestDetails:e.query({query:e=>"/exeats/by-status/rejected/".concat(e),transformResponse:e=>e,providesTags:["ExeatRequests"]}),sendComment:e.mutation({query:e=>{let{exeat_request_id:s,comment:t}=e;return{url:"/staff/exeat-requests/".concat(s,"/send-comment"),method:"POST",body:{comment:t,priority:"high"}}},invalidatesTags:["ExeatRequests"]}),editExeatRequest:e.mutation({query:e=>{let{exeat_request_id:s,payload:t}=e;return{url:"/staff/exeat-requests/".concat(s),method:"PUT",body:t}},invalidatesTags:["ExeatRequests"]}),deanApplyExeatRequest:e.mutation({query:e=>({url:"/dean/exeat-requests",method:"POST",body:e}),invalidatesTags:["ExeatRequests"]}),deanBulkApproveExeats:e.mutation({query:()=>({url:"/dean/exeat-requests/bulkAprroval",method:"POST"}),invalidatesTags:["ExeatRequests"]})})})},94508:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var a=t(61994),r=t(53335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[2915,3557,9946,7968,2971,2117,1744],function(){return e(e.s=42221)}),_N_E=e.O()}]);