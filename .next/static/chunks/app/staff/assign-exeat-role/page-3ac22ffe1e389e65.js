(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6206],{29564:function(e,s,a){Promise.resolve().then(a.bind(a,33537))},33537:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return w}});var t=a(57437),r=a(2265),n=a(66070),l=a(65613),i=a(62869),d=a(35974),o=a(93022),c=a(73578),m=a(78667),u=a(37099),x=a(25361);let f=(0,a(96471).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var h=a(53459),p=a(16994),j=a(43728),v=a(36086),g=a(18025),N=a(35153),y=a(81499);function b(){return(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsx)(n.Zb,{children:(0,t.jsxs)(n.Ol,{children:[(0,t.jsx)(o.O,{className:"h-8 w-64"}),(0,t.jsx)(o.O,{className:"h-4 w-96"})]})}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(o.O,{className:"h-6 w-48"})}),(0,t.jsx)(n.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.O,{className:"h-4 w-20"}),(0,t.jsx)(o.O,{className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.O,{className:"h-4 w-24"}),(0,t.jsx)(o.O,{className:"h-10 w-full"})]}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(o.O,{className:"h-10 w-full"})})]})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(o.O,{className:"h-6 w-40"})}),(0,t.jsx)(n.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(o.O,{className:"h-4 w-32"}),(0,t.jsx)(o.O,{className:"h-4 w-24"}),(0,t.jsx)(o.O,{className:"h-4 w-20"}),(0,t.jsx)(o.O,{className:"h-8 w-20"})]},s))})})]})]})}function w(){let{data:e,isLoading:s,error:a}=(0,g.M0)(),{data:w,isLoading:C,error:k,refetch:R}=(0,g.Sh)(),{data:_,isLoading:Z,error:A}=(0,g.Ym)(),[O,{isLoading:S,error:D,isSuccess:z}]=(0,g.g3)(),[M,{isLoading:F,error:V,isSuccess:E}]=(0,g.oS)(),[L,I]=(0,r.useState)(""),[T,Y]=(0,r.useState)(""),[H,P]=(0,r.useState)(!1),[q,U]=(0,r.useState)(null),{toast:$}=(0,N.pm)(),X=k||A||a,B=e=>{var s;return e?(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.message)?e.data.message:(null==e?void 0:e.message)?e.message:(null==e?void 0:e.error)?e.error:"string"==typeof e?e:"An unexpected error occurred":null},K=(0,r.useMemo)(()=>e?e.map(e=>({value:String(e.id),label:"".concat(e.fname).concat(e.middle_name?" "+e.middle_name:""," ").concat(e.lname),description:e.email})):[],[e]),J=(0,r.useMemo)(()=>_?_.map(e=>({value:String(e.id),label:e.display_name||e.name,description:e.description})):[],[_]),W=(0,r.useMemo)(()=>e?e.map(e=>({id:e.id,fname:e.fname,lname:e.lname,middle_name:e.middle_name,email:e.email})):[],[e]),G=(0,r.useMemo)(()=>_?_.map(e=>({id:e.id,name:e.name,display_name:e.display_name,description:e.description})):[],[_]);async function Q(){let e=Number(L),s=Number(T);try{await O({staffId:e,exeatRoleId:s}).unwrap()}catch(e){var a;$({title:"Assignment Failed",description:(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message)||(null==e?void 0:e.message)||"Failed to assign role.",variant:"destructive"})}}function ee(e,s,a,t,r){let n=s;if(!n||null==n){let e=G.find(e=>{var s,a;return(null===(s=e.display_name)||void 0===s?void 0:s.toLowerCase())===(null==t?void 0:t.toLowerCase())||(null===(a=e.name)||void 0===a?void 0:a.toLowerCase())===(null==t?void 0:t.toLowerCase())});if(e)n=e.id;else{console.error("Could not find role by name:",t),$({title:"Error",description:"Could not find role. Please refresh the page and try again.",variant:"destructive"});return}}if(!n){$({title:"Error",description:"Invalid role ID. Cannot unassign role.",variant:"destructive"});return}let l=e;if(!l||null==l){let e=W.find(e=>{var s;return(null===(s=e.email)||void 0===s?void 0:s.toLowerCase())===(null==a?void 0:a.toLowerCase())});if(e)l=e.id;else{console.error("Could not find staff member with email:",a),$({title:"Error",description:"Could not find staff member. Please refresh the page and try again.",variant:"destructive"});return}}if(!l){$({title:"Error",description:"Invalid staff ID. Cannot unassign role.",variant:"destructive"});return}U({staffId:l,roleId:n,staffEmail:a,roleName:t,staffName:r}),P(!0)}async function es(){if(!q)return;let{staffId:e,roleId:s,staffName:a,roleName:t}=q;if(P(!1),!e){$({title:"Removal Failed",description:"Invalid staff ID. Please try again.",variant:"destructive"}),U(null);return}W.some(s=>s.id===e),G.some(e=>e.id===s);try{await M({staffId:e,exeatRoleId:s}).unwrap()}catch(e){var r;$({title:"Removal Failed",description:(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.message)||(null==e?void 0:e.message)||"Failed to unassign role.",variant:"destructive"})}finally{U(null)}}return((0,r.useEffect)(()=>{z&&(I(""),Y(""),R(),$({title:"Role Assigned Successfully",description:"Role has been assigned to the staff member.",variant:"success"}))},[z,R,$]),(0,r.useEffect)(()=>{E&&(R(),$({title:"Role Removed Successfully",description:"Role has been removed from the staff member.",variant:"success"}))},[E,R,$]),C||Z||s)?(0,t.jsx)(b,{}):X?(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsxs)(l.bZ,{variant:"destructive",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)(l.Cd,{children:"Error Loading Data"}),(0,t.jsxs)(l.X,{className:"space-y-2",children:[(0,t.jsx)("p",{children:B(X)}),(0,t.jsx)(i.z,{variant:"outline",onClick:()=>window.location.reload(),className:"mt-2",children:"Try Again"})]})]})}):(0,t.jsxs)("div",{className:"w-full mx-auto p-4 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Role Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Assign and manage exeat roles for staff members"})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(f,{className:"h-5 w-5"}),"Assign Exeat Role"]}),(0,t.jsx)(n.SZ,{children:"Select a staff member and assign them an exeat role"})]}),(0,t.jsxs)(n.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Select Staff Member"}),(0,t.jsx)(m.V,{options:K,value:L,onValueChange:I,placeholder:"Choose staff member",searchPlaceholder:"Search staff by name or email...",emptyMessage:"No staff members found",disabled:S})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Select Exeat Role"}),(0,t.jsx)(m.V,{options:J,value:T,onValueChange:Y,placeholder:"Choose role",searchPlaceholder:"Search roles...",emptyMessage:"No roles found",disabled:S})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)(i.z,{onClick:Q,disabled:!L||!T||S,className:"w-full",size:"lg",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Assigning..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{className:"mr-2 h-4 w-4"}),"Assign Role"]})})})]}),D&&(0,t.jsxs)(l.bZ,{variant:"destructive",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)(l.X,{children:B(D)})]})]})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5"}),"Assignment History"]}),(0,t.jsx)(n.SZ,{children:"View and manage current role assignments"})]}),(0,t.jsx)(n.aY,{children:C?(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.O,{className:"h-4 w-32"}),(0,t.jsx)(o.O,{className:"h-3 w-24"})]}),(0,t.jsx)(o.O,{className:"h-6 w-16"}),(0,t.jsx)(o.O,{className:"h-8 w-20"})]},s))}):k?(0,t.jsxs)(l.bZ,{variant:"destructive",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)(l.Cd,{children:"Failed to Load Assignments"}),(0,t.jsx)(l.X,{children:B(k)})]}):w&&0!==w.length?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"md:hidden space-y-4",children:w.map((e,s)=>(0,t.jsxs)(n.Zb,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:e.staff_name||e.staff_email}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.staff_email})]}),(0,t.jsx)(d.C,{variant:"secondary",children:e.role_display_name||e.role_name})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Assigned: ",e.assigned_at]}),(0,t.jsx)(i.z,{variant:"outline",size:"sm",disabled:F,onClick:()=>ee(e.staff_id,e.exeat_role_id,e.staff_email,e.role_display_name||e.role_name,e.staff_name||e.staff_email),className:"text-red-600 border-red-200 hover:bg-red-50",children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Removing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]},s))}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Staff Member"}),(0,t.jsx)(c.ss,{children:"Role"}),(0,t.jsx)(c.ss,{children:"Assigned Date"}),(0,t.jsx)(c.ss,{className:"w-[100px]",children:"Actions"})]})}),(0,t.jsx)(c.RM,{children:w.map((e,s)=>(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.pj,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.staff_name||e.staff_email}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.staff_email})]})}),(0,t.jsx)(c.pj,{children:(0,t.jsx)(d.C,{variant:"secondary",children:e.role_display_name||e.role_name})}),(0,t.jsx)(c.pj,{className:"text-muted-foreground",children:e.assigned_at}),(0,t.jsx)(c.pj,{children:(0,t.jsx)(i.z,{variant:"outline",size:"sm",disabled:F,onClick:()=>ee(e.staff_id,e.exeat_role_id,e.staff_email,e.role_display_name||e.role_name,e.staff_name||e.staff_email),className:"text-red-600 border-red-200 hover:bg-red-50",children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Removing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"Remove"]})})})]},s))})]})})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(p.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No assignments found"}),(0,t.jsx)("p",{className:"text-sm",children:"Staff members will appear here once roles are assigned"})]})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"h-5 w-5"}),"Available Exeat Roles"]}),(0,t.jsx)(n.SZ,{children:"Overview of all system roles and their permissions"})]}),(0,t.jsx)(n.aY,{children:0===G.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(v.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"No roles available"}),(0,t.jsx)("p",{className:"text-sm",children:"Roles will be displayed here once created"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"md:hidden space-y-4",children:G.map(e=>(0,t.jsxs)(n.Zb,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:(0,y.h)(e)}),(0,t.jsx)(d.C,{variant:"outline",className:"mt-1 text-xs",children:(0,y.h)(e)})]}),(0,t.jsx)(v.Z,{className:"h-5 w-5 text-muted-foreground"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.id))}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Role Name"}),(0,t.jsx)(c.ss,{children:"Display Name"}),(0,t.jsx)(c.ss,{children:"Description"})]})}),(0,t.jsx)(c.RM,{children:G.map(e=>(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.pj,{children:(0,t.jsx)(d.C,{variant:"outline",children:(0,y.h)(e)})}),(0,t.jsx)(c.pj,{className:"font-medium",children:(0,y.h)(e)}),(0,t.jsx)(c.pj,{className:"text-muted-foreground",children:e.description})]},e.id))})]})})]})})]}),(0,t.jsx)(u.aR,{open:H,onOpenChange:P,children:(0,t.jsxs)(u._T,{children:[(0,t.jsxs)(u.fY,{children:[(0,t.jsx)(u.f$,{children:"Remove Role Assignment"}),(0,t.jsxs)(u.yT,{children:["Are you sure you want to remove the ",(0,t.jsxs)("strong",{children:['"',null==q?void 0:q.roleName,'"']})," role from"," ",(0,t.jsx)("strong",{children:null==q?void 0:q.staffName}),"?",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"This action cannot be undone."]})]}),(0,t.jsxs)(u.xo,{children:[(0,t.jsx)(u.le,{onClick:()=>U(null),children:"Cancel"}),(0,t.jsx)(u.OL,{onClick:es,className:"bg-red-600 hover:bg-red-700",disabled:F,children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Removing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"Remove Role"]})})]})]})})]})}},65613:function(e,s,a){"use strict";a.d(s,{Cd:function(){return o},X:function(){return c},bZ:function(){return d}});var t=a(57437),r=a(2265),n=a(90535),l=a(94508);let i=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,s)=>{let{className:a,variant:r,...n}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,l.cn)(i({variant:r}),a),...n})});d.displayName="Alert";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h5",{ref:s,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});o.displayName="AlertTitle";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",a),...r})});c.displayName="AlertDescription"},26110:function(e,s,a){"use strict";a.d(s,{$N:function(){return f},Be:function(){return h},Vq:function(){return d},cN:function(){return x},cZ:function(){return m},fK:function(){return u}});var t=a(57437),r=a(2265),n=a(70001),l=a(44986),i=a(94508);let d=n.fC;n.xz;let o=n.h_;n.x8;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=n.aV.displayName;let m=r.forwardRef((e,s)=>{let{className:a,children:r,...d}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(c,{}),(0,t.jsxs)(n.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,t.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.VY.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};u.displayName="DialogHeader";let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};x.displayName="DialogFooter";let f=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});f.displayName=n.Dx.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(n.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=n.dk.displayName},57054:function(e,s,a){"use strict";a.d(s,{J2:function(){return i},xo:function(){return d},yk:function(){return o}});var t=a(57437),r=a(2265),n=a(51777),l=a(94508);let i=n.fC,d=n.xz,o=r.forwardRef((e,s)=>{let{className:a,align:r="center",sideOffset:i=4,...d}=e;return(0,t.jsx)(n.h_,{children:(0,t.jsx)(n.VY,{ref:s,align:r,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});o.displayName=n.VY.displayName},78667:function(e,s,a){"use strict";a.d(s,{V:function(){return f}});var t=a(57437),r=a(2265),n=a(23818),l=a(44986),i=a(59559),d=a(40822),o=a(94508),c=a(62869),m=a(26110),u=a(57054),x=a(95186);function f(e){let{options:s,value:a,onValueChange:f,placeholder:h="Select an option",searchPlaceholder:p="Search...",emptyMessage:j="No results found",disabled:v=!1,className:g}=e,[N,y]=r.useState(!1),[b,w]=r.useState(""),[C,k]=r.useState(!1);r.useEffect(()=>{let e=()=>{k(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let R=r.useMemo(()=>{let e=b.toLowerCase();return s.filter(s=>{var a;return s.label.toLowerCase().includes(e)||(null===(a=s.description)||void 0===a?void 0:a.toLowerCase().includes(e))})},[s,b]),_=s.find(e=>e.value===a),Z=e=>{f(e),y(!1),w("")},A=e=>{y(e),e||w("")};r.useEffect(()=>{N||w("")},[N]);let O=()=>(0,t.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,t.jsx)("div",{className:"p-3 border-b flex-shrink-0 bg-white",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(x.I,{placeholder:p,value:b,onChange:e=>w(e.target.value),className:"pl-9 pr-9 h-10",autoFocus:!0}),b&&(0,t.jsx)(c.z,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>w(""),children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0",children:(0,t.jsx)("div",{className:"p-2",children:0===R.length?(0,t.jsx)("div",{className:"py-8 text-center text-sm text-muted-foreground",children:j}):R.map(e=>(0,t.jsxs)("button",{onClick:()=>Z(e.value),className:(0,o.cn)("w-full flex items-center gap-3 px-3 py-3 text-sm rounded-md hover:bg-accent transition-colors text-left",a===e.value&&"bg-accent"),children:[(0,t.jsx)(i.Z,{className:(0,o.cn)("h-4 w-4 flex-shrink-0",a===e.value?"opacity-100":"opacity-0")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-medium leading-tight",children:e.label}),e.description&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground truncate mt-0.5",children:e.description})]})]},e.value))})})]});return C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.z,{variant:"outline",role:"combobox","aria-expanded":N,className:(0,o.cn)("w-full justify-between",g),onClick:()=>y(!0),disabled:v,children:[(0,t.jsx)("span",{className:"truncate",children:_?_.label:h}),(0,t.jsx)(d.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),(0,t.jsx)(m.Vq,{open:N,onOpenChange:A,children:(0,t.jsxs)(m.cZ,{className:"max-w-[95vw] w-full p-0 gap-0 flex flex-col !top-4 !translate-y-0 !bottom-auto data-[state=open]:slide-in-from-top-4 data-[state=closed]:slide-out-to-top-4 rounded-b-lg rounded-t-lg",style:{maxHeight:"55vh",minHeight:"300px"},onInteractOutside:e=>{y(!1),w("")},onEscapeKeyDown:e=>{y(!1),w("")},children:[(0,t.jsx)(m.fK,{className:"px-4 py-3 border-b flex-shrink-0 bg-white rounded-t-lg",children:(0,t.jsx)(m.$N,{className:"text-base",children:h})}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col min-h-0",children:(0,t.jsx)(O,{})})]})})]}):(0,t.jsxs)(u.J2,{open:N,onOpenChange:A,children:[(0,t.jsx)(u.xo,{asChild:!0,children:(0,t.jsxs)(c.z,{variant:"outline",role:"combobox","aria-expanded":N,className:(0,o.cn)("w-full justify-between",g),disabled:v,children:[(0,t.jsx)("span",{className:"truncate",children:_?_.label:h}),(0,t.jsx)(d.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(u.yk,{className:"w-[--radix-popover-trigger-width] p-0 max-h-[400px] flex flex-col",align:"start",children:(0,t.jsx)(O,{})})]})}},93022:function(e,s,a){"use strict";a.d(s,{O:function(){return n}});var t=a(57437),r=a(94508);function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...a})}},73578:function(e,s,a){"use strict";a.d(s,{RM:function(){return d},SC:function(){return o},iA:function(){return l},pj:function(){return m},ss:function(){return c},xD:function(){return i}});var t=a(57437),r=a(2265),n=a(94508);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",a),...r})})});l.displayName="Table";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",a),...r})});i.displayName="TableHeader";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...r})});d.displayName="TableBody",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});o.displayName="TableRow";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});c.displayName="TableHead";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});m.displayName="TableCell",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"},81499:function(e,s,a){"use strict";a.d(s,{h:function(){return t}});let t=e=>{if(!e)return"Unknown Role";if("string"==typeof e)return e;if("object"==typeof e){if(e.role&&"object"==typeof e.role&&e.role.name)return e.role.name;if(e.name)return e.name;if(e.display_name)return e.display_name}return"Unknown Role"}},7880:function(e,s,a){"use strict";a.d(s,{aU:function(){return V},$j:function(){return E},VY:function(){return F},dk:function(){return I},aV:function(){return M},h_:function(){return z},fC:function(){return S},Dx:function(){return L},xz:function(){return D}});var t=a(2265),r=a(73966),n=a(98575),l=a(70001),i=a(6741),d=a(57437),o=Symbol("radix.slottable"),c="AlertDialog",[m,u]=(0,r.b)(c,[l.p8]),x=(0,l.p8)(),f=e=>{let{__scopeAlertDialog:s,...a}=e,t=x(s);return(0,d.jsx)(l.fC,{...t,...a,modal:!0})};f.displayName=c;var h=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=x(a);return(0,d.jsx)(l.xz,{...r,...t,ref:s})});h.displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:s,...a}=e,t=x(s);return(0,d.jsx)(l.h_,{...t,...a})};p.displayName="AlertDialogPortal";var j=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=x(a);return(0,d.jsx)(l.aV,{...r,...t,ref:s})});j.displayName="AlertDialogOverlay";var v="AlertDialogContent",[g,N]=m(v),y=function(e){let s=({children:e})=>(0,d.jsx)(d.Fragment,{children:e});return s.displayName=`${e}.Slottable`,s.__radixId=o,s}("AlertDialogContent"),b=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,children:r,...o}=e,c=x(a),m=t.useRef(null),u=(0,n.e)(s,m),f=t.useRef(null);return(0,d.jsx)(l.jm,{contentName:v,titleName:w,docsSlug:"alert-dialog",children:(0,d.jsx)(g,{scope:a,cancelRef:f,children:(0,d.jsxs)(l.VY,{role:"alertdialog",...c,...o,ref:u,onOpenAutoFocus:(0,i.Mj)(o.onOpenAutoFocus,e=>{var s;e.preventDefault(),null===(s=f.current)||void 0===s||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(y,{children:r}),(0,d.jsx)(O,{contentRef:m})]})})})});b.displayName=v;var w="AlertDialogTitle",C=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=x(a);return(0,d.jsx)(l.Dx,{...r,...t,ref:s})});C.displayName=w;var k="AlertDialogDescription",R=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=x(a);return(0,d.jsx)(l.dk,{...r,...t,ref:s})});R.displayName=k;var _=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=x(a);return(0,d.jsx)(l.x8,{...r,...t,ref:s})});_.displayName="AlertDialogAction";var Z="AlertDialogCancel",A=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,{cancelRef:r}=N(Z,a),i=x(a),o=(0,n.e)(s,r);return(0,d.jsx)(l.x8,{...i,...t,ref:o})});A.displayName=Z;var O=e=>{let{contentRef:s}=e,a="`".concat(v,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(v,"` by passing a `").concat(k,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(v,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return t.useEffect(()=>{var e;document.getElementById(null===(e=s.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,s]),null},S=f,D=h,z=p,M=j,F=b,V=_,E=A,L=C,I=R},25361:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(96471).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},36086:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(96471).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},43728:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(96471).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},16994:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(96471).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[2915,3557,5844,9049,2061,1,573,4879,2971,2117,1744],function(){return e(e.s=29564)}),_N_E=e.O()}]);